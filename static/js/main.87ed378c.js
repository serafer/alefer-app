/*! For license information please see main.87ed378c.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,_t,It=!1,Tt=[],Ct=null,Nt=null,Dt=null,At=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Dt&&jt(Dt)&&(Dt=null),At.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==Dt&&zt(Dt,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=an(dn),pn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Dn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=yn;break;case Nr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Oe(v,h))&&l.push(Gr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,gi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Hr(d))v++;for(d=0,p=h;p;p=Hr(p))d++;for(;0<v-d;)l=Hr(l),v--;for(;0<d-v;)h=Hr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Wr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,vi="__reactContainer$"+fi,pi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Di=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ni),_i(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Ii(Ci,e)):_i(Ni),Ii(Ni,n)}var ji=null,Vi=!1,Bi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Ui),i}finally{bt=t,Bi=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var pa=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;_i(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=F({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Oi(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Oi(t)?Di:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y,f=m}if(p===u.length)return n(i,f),ia&&Ji(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,p),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,p=y}if(g.done)return n(i,p),ia&&Ji(i,m),l;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ii(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,vo=0,po=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(vo=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,vo=0,yo=mo=po=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?po.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?po.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?po.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((vo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,po.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,po.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=po,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ds)throw Error(a(349));0!==(30&vo)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,po,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();po.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}po.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Uo(2048,8,e,t)}function Go(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=pt(),po.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===po||null!==t&&t===po}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=po,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ds)throw Error(a(349));0!==(30&vo)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ds.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:Yo,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:Yo,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Do,useRef:Bo,useState:function(){return Do(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function vu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),hu(0,t)},n}function pu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=_o(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Di:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=_o(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Ai(t,c=Oi(n)?Di:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Da?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Da||Ua(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Ai(t,s=Oi(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ni.current||Da?("function"===typeof d&&(Ba(t,n,d,r),v=t.memoizedState),(c=Da||Ua(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return da(),va(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,Ru,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Bu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Bu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Bu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ds)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Bu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bu(e,t,n,r){return null!==r&&va(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Hu(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Pu(e,t),null===e&&Ur(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)vs(e,t,n),n=n.sibling}function vs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ut(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));vs(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){_c(e,e.return,m)}try{rs(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(v=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==v?(v.return=d,Zu=v):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Es(i):null!==s?(s.return=o,Zu=s):Es(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){_c(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Es(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{as(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,_s=Math.ceil,Is=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,Ns=0,Ds=null,As=null,Os=0,Ps=0,Rs=Si(0),Ls=0,Ms=null,Fs=0,js=0,Vs=0,Bs=null,zs=null,Us=0,qs=1/0,Ks=null,Gs=!1,Ws=null,Hs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Os?Os&-Os:null!==pa.transition?(0===ec&&(ec=pt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===Ds||(e===Ds&&(0===(2&Ns)&&(js|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,Vi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ds?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Ds?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=pc();for(Ds===e&&Os===t||(Ks=null,qs=Xe()+500,dc(e,t));;)try{bc();break}catch(s){vc(e,s)}wa(),Is.current=o,Ns=i,null!==As?t=0:(Ds=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=vt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),t);break}xc(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),r);break}xc(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Vs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Ks),ic(e,Xe()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,Vi&&Ui())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Ns)&&Ec();var t=Ns;Ns|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(Ns=t))&&Ui()}}function hc(){Ps=Rs.current,_i(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ds=e,As=e=Rc(e.current,null),Os=Ps=t,Ls=0,Ms=null,Vs=js=Fs=0,zs=Bs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function vc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=po.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(vo=0,yo=mo=po=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=yu(u);if(null!==v){v.flags&=-257,gu(v,u,s,0,t),1&v.mode&&mu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),va(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Bs?Bs=[o]:Bs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ds||0===(268435455&Fs)&&0===(268435455&js)||sc(Ds,Os)}function yc(e,t){var n=Ns;Ns|=2;var r=pc();for(Ds===e&&Os===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){vc(e,i)}if(wa(),Ns=n,Is.current=r,null!==As)throw Error(a(261));return Ds=null,Os=0,Ls}function gc(){for(;null!==As;)kc(As)}function bc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):As=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(As=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ls=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==$s);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ds&&(As=Ds=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Dc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}p=ns,ns=!1}(e,n),ys(n,e),vr(ti),Kt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ye(),Ns=s,bt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Ui()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function Ec(){if(null!==$s){var e=kt(Ys),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,v=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=v,Zu=d;break}Zu=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=vu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Ra(t,e=pu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Xe()-Us?dc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Dc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case _:return(e=Oc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case D:return(e=Oc(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Bc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Uc(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Uc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Gu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[vi]=o.current,Ur(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[vi]=s.current,Ur(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[vi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,Ui()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[vi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,p(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!p)if(null!==r(c))p=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(I),I=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function D(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof b)E=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=D,E=function(){O.postMessage(null)}}else E=function(){y(D,0)};function P(e){_=e,S||(S=!0,E())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".52040a06.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="alefer-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/alefer-app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkalefer_app=self.webpackChunkalefer_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Va},SDK_VERSION:function(){return Ko},_DEFAULT_ENTRY_NAME:function(){return Ao},_addComponent:function(){return Lo},_addOrOverwriteComponent:function(){return Mo},_apps:function(){return Po},_clearComponents:function(){return Bo},_components:function(){return Ro},_getProvider:function(){return jo},_registerComponent:function(){return Fo},_removeServiceInstance:function(){return Vo},deleteApp:function(){return Qo},getApp:function(){return Wo},getApps:function(){return Ho},initializeApp:function(){return Go},onLog:function(){return Xo},registerVersion:function(){return Yo},setLogLevel:function(){return Jo}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function u(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){if(Array.isArray(e))return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||h(e,t)||d()}function p(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function m(e,t){if(null==e)return{};var n,r,i=p(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=n(694),g=n.n(y),b=n(184),k=["as","disabled"];function w(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var x=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,k),a=v(w(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,b.jsx)(u,Object.assign({},i,o,{ref:t}))}));x.displayName="Button";var E=x,S=["xxl","xl","lg","md","sm","xs"],_="xs",I=t.createContext({prefixes:{},breakpoints:S,minBreakpoint:_});I.Consumer,I.Provider;function T(e,n){var r=(0,t.useContext)(I).prefixes;return e||r[n]||n}var C=["as","bsPrefix","variant","size","active","className"],N=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=m(e,C),l=T(r,"btn"),f=v(w(c({tagName:n},s)),2),h=f[0],d=f[1].tagName;return(0,b.jsx)(d,c(c(c({},h),s),{},{ref:t,className:g()(u,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));N.displayName="Button",N.defaultProps={variant:"primary",active:!1,disabled:!1};var D=N,A=["bsPrefix","fluid","as","className"],O=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=m(e,A),s=T(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,b.jsx)(a,c(c({ref:t},u),{},{className:g()(o,r?"".concat(s).concat(l):s)}))}));O.displayName="Container",O.defaultProps={fluid:!1};var P=O,R=n(7),L=n.n(R),M=["as","className","type","tooltip"],F={type:L().string,tooltip:L().bool,as:L().elementType},j=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,l=m(e,M);return(0,b.jsx)(r,c(c({},l),{},{ref:t,className:g()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));j.displayName="Feedback",j.propTypes=F;var V=j,B=t.createContext({}),z=["id","bsPrefix","className","type","isValid","isInvalid","as"],U=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,l=void 0!==s&&s,f=e.isInvalid,h=void 0!==f&&f,d=e.as,v=void 0===d?"input":d,p=m(e,z),y=(0,t.useContext)(B).controlId;return i=T(i,"form-check-input"),(0,b.jsx)(v,c(c({},p),{},{ref:n,type:u,id:r||y,className:g()(a,i,l&&"is-valid",h&&"is-invalid")}))}));U.displayName="FormCheckInput";var q=U,K=["bsPrefix","className","htmlFor"],G=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=m(e,K),u=(0,t.useContext)(B).controlId;return r=T(r,"form-check-label"),(0,b.jsx)("label",c(c({},o),{},{ref:n,htmlFor:a||u,className:g()(i,r)}))}));G.displayName="FormCheckLabel";var W=G;var H=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Q=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,l=void 0!==s&&s,f=e.disabled,h=void 0!==f&&f,d=e.isValid,v=void 0!==d&&d,p=e.isInvalid,y=void 0!==p&&p,k=e.feedbackTooltip,w=void 0!==k&&k,x=e.feedback,E=e.feedbackType,S=e.className,_=e.style,I=e.title,C=void 0===I?"":I,N=e.type,D=void 0===N?"checkbox":N,A=e.label,O=e.children,P=e.as,R=void 0===P?"input":P,L=m(e,H);i=T(i,"form-check"),a=T(a,"form-switch");var M=(0,t.useContext)(B).controlId,F=(0,t.useMemo)((function(){return{controlId:r||M}}),[M,r]),j=!O&&null!=A&&!1!==A||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(O,W),z=(0,b.jsx)(q,c(c({},L),{},{type:"switch"===D?"checkbox":D,ref:n,isValid:v,isInvalid:y,disabled:h,as:R}));return(0,b.jsx)(B.Provider,{value:F,children:(0,b.jsx)("div",{style:_,className:g()(S,j&&i,u&&"".concat(i,"-inline"),l&&"".concat(i,"-reverse"),"switch"===D&&a),children:O||(0,b.jsxs)(b.Fragment,{children:[z,j&&(0,b.jsx)(W,{title:C,children:A}),x&&(0,b.jsx)(V,{type:E,tooltip:w,children:x})]})})})}));Q.displayName="FormCheck";var $=Object.assign(Q,{Input:q,Label:W}),Y=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),X=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,s=e.size,l=e.htmlSize,f=e.id,h=e.className,d=e.isValid,v=void 0!==d&&d,p=e.isInvalid,y=void 0!==p&&p,k=e.plaintext,w=e.readOnly,x=e.as,E=void 0===x?"input":x,S=m(e,Y),_=(0,t.useContext)(B).controlId;(a=T(a,"form-control"),k)?r=u({},"".concat(a,"-plaintext"),!0):(u(i={},a,!0),u(i,"".concat(a,"-").concat(s),s),r=i);return(0,b.jsx)(E,c(c({},S),{},{type:o,size:l,ref:n,readOnly:w,id:f||_,className:g()(h,r,v&&"is-valid",y&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));X.displayName="FormControl";var J=Object.assign(X,{Feedback:V}),Z=/-(.)/g;var ee=["className","bsPrefix","as"],te=function(e){return e[0].toUpperCase()+(t=e,t.replace(Z,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?te(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=m(t,ee),l=T(i,e);return(0,b.jsx)(u,c({ref:n,className:g()(r,l)},s))}));return u.defaultProps=o,u.displayName=i,u}var re=ne("form-floating"),ie=["controlId","as"],ae=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=m(e,ie),u=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,b.jsx)(B.Provider,{value:u,children:(0,b.jsx)(a,c(c({},o),{},{ref:n}))})}));ae.displayName="FormGroup";var oe=ae,ue=["as","bsPrefix","className"],se=["className"];function ce(e){var n=e.as,r=e.bsPrefix,i=e.className,a=m(e,ue);r=T(r,"col");var o=(0,t.useContext)(I).breakpoints,u=(0,t.useContext)(I).minBreakpoint,s=[],l=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var c=e!==u?"-".concat(e):"";t&&s.push(!0===t?"".concat(r).concat(c):"".concat(r).concat(c,"-").concat(t)),null!=i&&l.push("order".concat(c,"-").concat(i)),null!=n&&l.push("offset".concat(c,"-").concat(n))})),[c(c({},a),{},{className:g().apply(void 0,[i].concat(s,l))}),{as:n,bsPrefix:r,spans:s}]}var le=t.forwardRef((function(e,t){var n=v(ce(e),2),r=n[0],i=r.className,a=m(r,se),o=n[1],u=o.as,s=void 0===u?"div":u,l=o.bsPrefix,f=o.spans;return(0,b.jsx)(s,c(c({},a),{},{ref:t,className:g()(i,!f.length&&l)}))}));le.displayName="Col";var fe=le,he=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],de=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,l=e.htmlFor,f=m(e,he),h=(0,t.useContext)(B).controlId;a=T(a,"form-label");var d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));var v=g()(s,a,u&&"visually-hidden",o&&d);return l=l||h,o?(0,b.jsx)(fe,c({ref:n,as:"label",className:v,htmlFor:l},f)):(0,b.jsx)(i,c({ref:n,className:v,htmlFor:l},f))}));de.displayName="FormLabel",de.defaultProps={column:!1,visuallyHidden:!1};var ve=de,pe=["bsPrefix","className","id"],me=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=m(e,pe),u=(0,t.useContext)(B).controlId;return r=T(r,"form-range"),(0,b.jsx)("input",c(c({},o),{},{type:"range",ref:n,className:g()(i,r),id:a||u}))}));me.displayName="FormRange";var ye=me,ge=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],be=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.id,d=m(e,ge),v=(0,t.useContext)(B).controlId;return r=T(r,"form-select"),(0,b.jsx)("select",c(c({},d),{},{size:a,ref:n,className:g()(o,r,i&&"".concat(r,"-").concat(i),s&&"is-valid",f&&"is-invalid"),id:h||v}))}));be.displayName="FormSelect";var ke=be,we=["bsPrefix","className","as","muted"],xe=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=m(e,we);return n=T(n,"form-text"),(0,b.jsx)(a,c(c({},u),{},{ref:t,className:g()(r,n,o&&"text-muted")}))}));xe.displayName="FormText";var Ee=xe,Se=t.forwardRef((function(e,t){return(0,b.jsx)($,c(c({},e),{},{ref:t,type:"switch"}))}));Se.displayName="Switch";var _e=Object.assign(Se,{Input:$.Input,Label:$.Label}),Ie=["bsPrefix","className","children","controlId","label"],Te=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=m(e,Ie);return n=T(n,"form-floating"),(0,b.jsxs)(oe,c(c({ref:t,className:g()(r,n),controlId:a},u),{},{children:[i,(0,b.jsx)("label",{htmlFor:a,children:o})]}))}));Te.displayName="FloatingLabel";var Ce=Te,Ne=["className","validated","as"],De={_ref:L().any,validated:L().bool,as:L().elementType},Ae=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=m(e,Ne);return(0,b.jsx)(a,c(c({},o),{},{ref:t,className:g()(n,r&&"was-validated")}))}));Ae.displayName="Form",Ae.propTypes=De;var Oe=Object.assign(Ae,{Group:oe,Control:J,Floating:re,Check:$,Switch:_e,Label:ve,Text:Ee,Range:ye,Select:ke,FloatingLabel:Ce});n(573);function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}n(176);function Re(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Le(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Me(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[Re(i)],s=o[i],c=p(o,[Re(i),i].map(Le)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}(s,u,e[l]),h=f[0],d=f[1];return Pe({},c,((a={})[i]=h,a[l]=d,a))}),e)}function Fe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function je(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ve(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Fe.__suppressDeprecationWarning=!0,je.__suppressDeprecationWarning=!0,Ve.__suppressDeprecationWarning=!0;var Be=Function.prototype.bind.call(Function.prototype.call,[].slice);function ze(e,t){return Be(e.querySelectorAll(t))}var Ue=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var qe=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Ue(e),r=Ue(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},Ke=t.createContext(null);Ke.displayName="NavContext";var Ge=Ke,We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},He=t.createContext(null),Qe=t.createContext(null),$e="data-rr-ui-",Ye="rrUi";function Xe(e){return"".concat($e).concat(e)}var Je=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Ze(e){var n=Je(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var et=["as","active","eventKey"];function tt(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(He),c=(0,t.useContext)(Ge),l=(0,t.useContext)(Qe),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),v=c.getControlledId(null!=n?n:null);h[Xe("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=v)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),u&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Ze((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var nt=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?E:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,et),u=v(tt(Object.assign({key:We(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[Xe("active")]=c.isActive,(0,b.jsx)(r,Object.assign({},o,s,{ref:t}))}));nt.displayName="NavItem";var rt=nt,it=["as","onSelect","activeKey","role","onKeyDown"];var at=function(){},ot=Xe("event-key"),ut=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,it),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),v=(0,t.useContext)(He),p=(0,t.useContext)(Qe);p&&(c=c||"tablist",s=p.activeKey,r=p.getControlledId,i=p.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=ze(t,"[".concat(ot,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==v||v(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(ot,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=qe(n,m);return(0,b.jsx)(He.Provider,{value:g,children:(0,b.jsx)(Ge.Provider,{value:{role:c,activeKey:We(s),getControlledId:r||at,getControllerId:i||at},children:(0,b.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),p){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat(Ye).concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));ut.displayName="Nav";var st=Object.assign(ut,{Item:rt}),ct=t.createContext(null);ct.displayName="NavbarContext";var lt=ct,ft=t.createContext(null);ft.displayName="CardHeaderContext";var ht=ft,dt=ne("nav-item");var vt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,pt="undefined"!==typeof document||vt?t.useLayoutEffect:t.useEffect;new WeakMap;var mt=["onKeyDown"];var yt=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mt),a=v(w(Object.assign({tagName:"a"},i)),1)[0],o=Ze((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,b.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,b.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));yt.displayName="Anchor";var gt=yt,bt=["bsPrefix","className","as","active","eventKey"],kt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?gt:i,o=e.active,u=e.eventKey,s=m(e,bt);n=T(n,"nav-link");var l=v(tt(c({key:We(u,s.href),active:o},s)),2),f=l[0],h=l[1];return(0,b.jsx)(a,c(c(c({},s),f),{},{ref:t,className:g()(r,n,s.disabled&&"disabled",h.isActive&&"active")}))}));kt.displayName="NavLink",kt.defaultProps={disabled:!1};var wt=kt,xt=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Et=t.forwardRef((function(e,n){var r,i,a,o=Me(e,{activeKey:"onSelect"}),s=o.as,l=void 0===s?"div":s,f=o.bsPrefix,h=o.variant,d=o.fill,v=o.justify,p=o.navbar,y=o.navbarScroll,k=o.className,w=o.activeKey,x=m(o,xt),E=T(f,"nav"),S=!1,_=(0,t.useContext)(lt),I=(0,t.useContext)(ht);return _?(i=_.bsPrefix,S=null==p||p):I&&(a=I.cardHeaderBsPrefix),(0,b.jsx)(st,c({as:l,ref:n,activeKey:w,className:g()(k,(r={},u(r,E,!S),u(r,"".concat(i,"-nav"),S),u(r,"".concat(i,"-nav-scroll"),S&&y),u(r,"".concat(a,"-").concat(h),!!a),u(r,"".concat(E,"-").concat(h),!!h),u(r,"".concat(E,"-fill"),d),u(r,"".concat(E,"-justified"),v),r))},x))}));Et.displayName="Nav",Et.defaultProps={justify:!1,fill:!1};var St=Object.assign(Et,{Item:dt,Link:wt}),_t=["bsPrefix","className","as"],It=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=m(e,_t);n=T(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,b.jsx)(o,c(c({},a),{},{ref:t,className:g()(r,n)}))}));It.displayName="NavbarBrand";var Tt=It;function Ct(e){return e&&e.ownerDocument||document}function Nt(e,t){return function(e){var t=Ct(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Dt=/([A-Z])/g;var At=/^ms-/;function Ot(e){return function(e){return e.replace(Dt,"-$1").toLowerCase()}(e).replace(At,"-ms-")}var Pt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Rt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ot(t))||Nt(e).getPropertyValue(Ot(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Pt.test(e))}(i)?n+=Ot(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ot(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}var Mt=n(164),Ft=!1,jt=t.createContext(null),Vt="unmounted",Bt="exited",zt="entering",Ut="entered",qt="exiting",Kt=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Bt,r.appearStatus=zt):i=Ut:i=t.unmountOnExit||t.mountOnEnter?Vt:Bt,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Lt(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Vt?{status:Bt}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==zt&&n!==Ut&&(t=zt):n!==zt&&n!==Ut||(t=qt)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bt&&this.setState({status:Vt})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Mt.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Ft?this.safeSetState({status:Ut},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:zt},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Ut},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Mt.findDOMNode(this);t&&!Ft?(this.props.onExit(r),this.safeSetState({status:qt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Bt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Bt},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Vt)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,p(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(jt.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Gt(){}Kt.contextType=jt,Kt.propTypes={},Kt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gt,onEntering:Gt,onEntered:Gt,onExit:Gt,onExiting:Gt,onExited:Gt},Kt.UNMOUNTED=Vt,Kt.EXITED=Bt,Kt.ENTERING=zt,Kt.ENTERED=Ut,Kt.EXITING=qt;var Wt=Kt,Ht=!("undefined"===typeof window||!window.document||!window.document.createElement),Qt=!1,$t=!1;try{var Yt={get passive(){return Qt=!0},get once(){return $t=Qt=!0}};Ht&&(window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,!0))}catch(J_){}var Xt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!$t){var i=r.once,a=r.capture,o=n;!$t&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Qt?r:a)}e.addEventListener(t,n,r)};var Jt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Zt=function(e,t,n,r){return Xt(e,t,n,r),function(){Jt(e,t,n,r)}};function en(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Zt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function tn(e,t,n,r){null==n&&(n=function(e){var t=Rt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=en(e,n,r),a=Zt(e,"transitionend",t);return function(){i(),a()}}function nn(e,t){var n=Rt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function rn(e,t){var n=nn(e,"transitionDuration"),r=nn(e,"transitionDelay"),i=tn(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function on(e){e.offsetHeight}var un,sn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],cn=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=m(e,sn),v=(0,t.useRef)(null),p=qe(v,h),y=function(e){var t;p((t=e)&&"setState"in t?Mt.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&v.current&&e(v.current,t)}},k=(0,t.useCallback)(g(r),[r]),w=(0,t.useCallback)(g(i),[i]),x=(0,t.useCallback)(g(a),[a]),E=(0,t.useCallback)(g(o),[o]),S=(0,t.useCallback)(g(u),[u]),_=(0,t.useCallback)(g(s),[s]),I=(0,t.useCallback)(g(l),[l]);return(0,b.jsx)(Wt,c(c({ref:n},d),{},{onEnter:k,onEntered:x,onEntering:w,onExit:E,onExited:_,onExiting:S,addEndListener:I,nodeRef:v,children:"function"===typeof f?function(e,t){return f(e,c(c({},t),{},{ref:y}))}:t.cloneElement(f,{ref:y})}))})),ln=cn,fn=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],hn={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function dn(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=hn[e];return n+parseInt(Rt(t,r[0]),10)+parseInt(Rt(t,r[1]),10)}var vn=(u(un={},Bt,"collapse"),u(un,qt,"collapsing"),u(un,zt,"collapsing"),u(un,Ut,"collapse show"),un),pn={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:dn},mn=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,l=e.children,f=e.dimension,h=void 0===f?"height":f,d=e.getDimensionValue,v=void 0===d?dn:d,p=m(e,fn),y="function"===typeof h?h():h,k=(0,t.useMemo)((function(){return an((function(e){e.style[y]="0"}),r)}),[y,r]),w=(0,t.useMemo)((function(){return an((function(e){var t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),i)}),[y,i]),x=(0,t.useMemo)((function(){return an((function(e){e.style[y]=null}),a)}),[y,a]),E=(0,t.useMemo)((function(){return an((function(e){e.style[y]="".concat(v(y,e),"px"),on(e)}),o)}),[o,v,y]),S=(0,t.useMemo)((function(){return an((function(e){e.style[y]=null}),u)}),[y,u]);return(0,b.jsx)(ln,c(c({ref:n,addEndListener:rn},p),{},{"aria-expanded":p.role?p.in:null,onEnter:k,onEntering:w,onEntered:x,onExit:E,onExiting:S,childRef:l.ref,children:function(e,n){return t.cloneElement(l,c(c({},n),{},{className:g()(s,l.props.className,vn[e],"width"===y&&"collapse-horizontal")}))}}))}));mn.defaultProps=pn;var yn=mn,gn=["children","bsPrefix"],bn=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=m(e,gn);i=T(i,"navbar-collapse");var o=(0,t.useContext)(lt);return(0,b.jsx)(yn,c(c({in:!(!o||!o.expanded)},a),{},{children:(0,b.jsx)("div",{ref:n,className:i,children:r})}))}));bn.displayName="NavbarCollapse";var kn=bn,wn=["bsPrefix","className","children","label","as","onClick"],xn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,l=e.onClick,f=m(e,wn);r=T(r,"navbar-toggler");var h=(0,t.useContext)(lt)||{},d=h.onToggle,v=h.expanded,p=Ze((function(e){l&&l(e),d&&d()}));return"button"===s&&(f.type="button"),(0,b.jsx)(s,c(c({},f),{},{ref:n,onClick:p,"aria-label":o,className:g()(i,r,!v&&"collapsed"),children:a||(0,b.jsx)("span",{className:"".concat(r,"-icon")})}))}));xn.displayName="NavbarToggle",xn.defaultProps={label:"Toggle navigation"};var En=xn,Sn=new WeakMap,_n=function(e,t){if(e&&t){var n=Sn.get(t)||new Map;Sn.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function In(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=_n(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return pt((function(){var t=_n(e,n);if(!t)return o(!1);var r=Sn.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var Tn=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var u,s;return"object"===typeof n?(u=n,o=a,a=!0):((s={})[n]=a=a||!0,u=s),In((0,t.useMemo)((function(){return Object.entries(u).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(u)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Cn(e){void 0===e&&(e=Ct());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(J_){return e.body}}function Nn(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Dn(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function An(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function On(e){return function(e){if(Array.isArray(e))return f(e)}(e)||An(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function Ln(e,t,n){return t&&Rn(e.prototype,t),n&&Rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mn=Xe("modal-open"),Fn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Pn(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Ln(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=u({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Rt(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Mn,""),Rt(r,t)}},{key:"reset",value:function(){var e=this;On(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Mn),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),jn=Fn,Vn=(0,t.createContext)(Ht?window:void 0);Vn.Provider;function Bn(){return(0,t.useContext)(Vn)}var zn=function(e,t){return Ht?null==e?(t||Ct()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var Un=function(e){var n=e.children,r=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,u=(0,t.useRef)(null),s=(0,t.useRef)(r),c=Ze(i);(0,t.useEffect)((function(){r?s.current=!0:c(u.current)}),[r,c]);var l=qe(u,n.ref),f=(0,t.cloneElement)(n,{ref:l});return r?f:o||!s.current&&a?null:f};function qn(e){var n=e.children,r=e.in,i=e.onExited,a=e.onEntered,o=e.transition,u=v((0,t.useState)(!r),2),s=u[0],c=u[1];r&&s&&c(!1);var l=function(e){var n=e.in,r=e.onTransition,i=(0,t.useRef)(null),a=(0,t.useRef)(!0),o=Ze(r);return pt((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),pt((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),f=qe(l,n.ref);return s&&!r?null:(0,t.cloneElement)(n,{ref:f})}function Kn(e,t,n){return e?(0,b.jsx)(e,Object.assign({},n)):t?(0,b.jsx)(qn,Object.assign({},n,{transition:t})):(0,b.jsx)(Un,Object.assign({},n))}var Gn,Wn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Hn(e){var n=Bn(),r=e||function(e){return Gn||(Gn=new jn({ownerDocument:null==e?void 0:e.document})),Gn}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var Qn=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,d=void 0===h||h,p=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.runTransition,k=e.backdropTransition,w=e.runBackdropTransition,x=e.autoFocus,E=void 0===x||x,S=e.enforceFocus,_=void 0===S||S,I=e.restoreFocus,T=void 0===I||I,C=e.restoreFocusOptions,N=e.renderDialog,D=e.renderBackdrop,A=void 0===D?function(e){return(0,b.jsx)("div",Object.assign({},e))}:D,O=e.manager,P=e.container,R=e.onShow,L=e.onHide,M=void 0===L?function(){}:L,F=e.onExit,j=e.onExited,V=e.onExiting,B=e.onEnter,z=e.onEntering,U=e.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Wn),K=function(e,n){var r=Bn(),i=v((0,t.useState)((function(){return zn(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=zn(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=zn(e);t!==a&&o(t)}),[e,a]),a}(P),G=Hn(O),W=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),H=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),Q=v((0,t.useState)(!i),2),$=Q[0],Y=Q[1],X=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return G}),[G]),Ht&&!H&&i&&(X.current=Cn()),i&&$&&Y(!1);var J=Ze((function(){if(G.add(),ie.current=Zt(document,"keydown",ne),re.current=Zt(document,"focus",(function(){return setTimeout(ee)}),!0),R&&R(),E){var e=Cn(document);G.dialog&&e&&!Nn(G.dialog,e)&&(X.current=e,G.dialog.focus())}})),Z=Ze((function(){var e;(G.remove(),null==ie.current||ie.current(),null==re.current||re.current(),T)&&(null==(e=X.current)||null==e.focus||e.focus(C),X.current=null)}));(0,t.useEffect)((function(){i&&K&&J()}),[i,K,J]),(0,t.useEffect)((function(){$&&Z()}),[$,Z]),Dn((function(){Z()}));var ee=Ze((function(){if(_&&W()&&G.isTopModal()){var e=Cn();G.dialog&&e&&!Nn(G.dialog,e)&&G.dialog.focus()}})),te=Ze((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===f&&M())})),ne=Ze((function(e){d&&27===e.keyCode&&G.isTopModal()&&(null==m||m(e),e.defaultPrevented||M())})),re=(0,t.useRef)(),ie=(0,t.useRef)();if(!K)return null;var ae=Object.assign({role:o,ref:G.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:s,className:u,tabIndex:-1}),oe=N?N(ae):(0,b.jsx)("div",Object.assign({},ae,{children:t.cloneElement(c,{role:"document"})}));oe=Kn(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:F,onExiting:V,onExited:function(){Y(!0),null==j||j.apply(void 0,arguments)},onEnter:B,onEntering:z,onEntered:U,children:oe});var ue=null;return f&&(ue=A({ref:G.setBackdropRef,onClick:te}),ue=Kn(k,w,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ue})),(0,b.jsx)(b.Fragment,{children:Mt.createPortal((0,b.jsxs)(b.Fragment,{children:[ue,oe]}),K)})}));Qn.displayName="Modal";var $n,Yn=Object.assign(Qn,{Manager:jn}),Xn=["className","children","transitionClasses"],Jn=(u($n={},zt,"show"),u($n,Ut,"show"),$n),Zn=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=m(e,Xn),s=(0,t.useCallback)((function(e,t){on(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,b.jsx)(ln,c(c({ref:n,addEndListener:rn},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,c(c({},n),{},{className:g()("fade",r,i.props.className,Jn[e],o[e])}))}}))}));Zn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Zn.displayName="Fade";var er,tr=Zn,nr=ne("offcanvas-body"),rr=["bsPrefix","className","children"],ir=(u(er={},zt,"show"),u(er,Ut,"show"),er),ar=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=m(e,rr);return r=T(r,"offcanvas"),(0,b.jsx)(ln,c(c({ref:n,addEndListener:rn},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,c(c({},n),{},{className:g()(i,a.props.className,(e===zt||e===qt)&&"".concat(r,"-toggling"),ir[e])}))}}))}));ar.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ar.displayName="OffcanvasToggling";var or=ar,ur=t.createContext({onHide:function(){}}),sr=["className","variant"],cr={"aria-label":L().string,onClick:L().func,variant:L().oneOf(["white"])},lr=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=m(e,sr);return(0,b.jsx)("button",c({ref:t,type:"button",className:g()("btn-close",r&&"btn-close-".concat(r),n)},i))}));lr.displayName="CloseButton",lr.propTypes=cr,lr.defaultProps={"aria-label":"Close"};var fr=lr,hr=["closeLabel","closeVariant","closeButton","onHide","children"],dr=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=m(e,hr),l=(0,t.useContext)(ur),f=Ze((function(){null==l||l.onHide(),null==o||o()}));return(0,b.jsxs)("div",c(c({ref:n},s),{},{children:[u,a&&(0,b.jsx)(fr,{"aria-label":r,variant:i,onClick:f})]}))}));dr.defaultProps={closeLabel:"Close",closeButton:!1};var vr=dr,pr=["bsPrefix","className"],mr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=m(e,pr);return n=T(n,"offcanvas-header"),(0,b.jsx)(vr,c(c({ref:t},i),{},{className:g()(r,n)}))}));mr.displayName="OffcanvasHeader",mr.defaultProps={closeLabel:"Close",closeButton:!1};var yr,gr=mr,br=(yr="h5",t.forwardRef((function(e,t){return(0,b.jsx)("div",c(c({},e),{},{ref:t,className:g()(e.className,yr)}))}))),kr=ne("offcanvas-title",{Component:br});function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function xr(){return xr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xr.apply(this,arguments)}function Er(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}function Sr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(J_){return!1}}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ir(e){var t=Sr();return function(){var n,r=wr(e);if(t){var i=wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}(this,n)}}function Tr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Cr,Nr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Dr=".sticky-top",Ar=".navbar-toggler",Or=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Rt(t,u({},e,"".concat(parseFloat(Rt(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Rt(t,u({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;xr(wr(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ze(r,Nr).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),ze(r,Dr).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),ze(r,Ar).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;xr(wr(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Tr(e.className,t):e.setAttribute("class",Tr(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ze(r,Nr).forEach((function(e){return t.restore(i,e)})),ze(r,Dr).forEach((function(e){return t.restore(a,e)})),ze(r,Ar).forEach((function(e){return t.restore(a,e)}))}}]),n}(jn);var Pr=Or,Rr=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Lr(e){return(0,b.jsx)(or,c({},e))}function Mr(e){return(0,b.jsx)(tr,c({},e))}var Fr=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.responsive,l=e.show,f=e.backdrop,h=e.keyboard,d=e.scroll,p=e.onEscapeKeyDown,y=e.onShow,k=e.onHide,w=e.container,x=e.autoFocus,E=e.enforceFocus,S=e.restoreFocus,_=e.restoreFocusOptions,I=e.onEntered,C=e.onExit,N=e.onExiting,D=e.onEnter,A=e.onEntering,O=e.onExited,P=e.backdropClassName,R=e.manager,L=e.renderStaticNode,M=m(e,Rr),F=(0,t.useRef)();r=T(r,"offcanvas");var j=((0,t.useContext)(lt)||{}).onToggle,V=v((0,t.useState)(!1),2),B=V[0],z=V[1],U=Tn(s||"xs","up");(0,t.useEffect)((function(){z(s?l&&!U:l)}),[l,s,U]);var q=Ze((function(){null==j||j(),null==k||k()})),K=(0,t.useMemo)((function(){return{onHide:q}}),[q]);var G=(0,t.useCallback)((function(e){return(0,b.jsx)("div",c(c({},e),{},{className:g()("".concat(r,"-backdrop"),P)}))}),[P,r]),W=function(e){return(0,b.jsx)("div",c(c(c({},e),M),{},{className:g()(i,s?"".concat(r,"-").concat(s):r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,b.jsxs)(b.Fragment,{children:[!B&&(s||L)&&W({}),(0,b.jsx)(ur.Provider,{value:K,children:(0,b.jsx)(Yn,{show:B,ref:n,backdrop:f,container:w,keyboard:h,autoFocus:x,enforceFocus:E&&!d,restoreFocus:S,restoreFocusOptions:_,onEscapeKeyDown:p,onShow:y,onHide:q,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==D||D.apply(void 0,[e].concat(n))},onEntering:A,onEntered:I,onExit:C,onExiting:N,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==O||O.apply(void 0,n)},manager:R||(d?(F.current||(F.current=new Pr({handleContainerOverflow:!1})),F.current):function(e){return Cr||(Cr=new Or(e)),Cr}()),transition:Lr,backdropTransition:Mr,renderBackdrop:G,renderDialog:W})})]})}));Fr.displayName="Offcanvas",Fr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var jr=Object.assign(Fr,{Body:nr,Header:gr,Title:kr}),Vr=t.forwardRef((function(e,n){var r=(0,t.useContext)(lt);return(0,b.jsx)(jr,c(c({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));Vr.displayName="NavbarOffcanvas";var Br=Vr,zr=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Ur=ne("navbar-text",{Component:"span"}),qr=t.forwardRef((function(e,n){var r=Me(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,s=r.fixed,l=r.sticky,f=r.className,h=r.as,d=void 0===h?"nav":h,v=r.expanded,p=r.onToggle,y=r.onSelect,k=r.collapseOnSelect,w=m(r,zr),x=T(i,"navbar"),E=(0,t.useCallback)((function(){null==y||y.apply(void 0,arguments),k&&v&&(null==p||p(!1))}),[y,k,v,p]);void 0===w.role&&"nav"!==d&&(w.role="navigation");var S="".concat(x,"-expand");"string"===typeof a&&(S="".concat(S,"-").concat(a));var _=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!v)},bsPrefix:x,expanded:!!v,expand:a}}),[x,v,a,p]);return(0,b.jsx)(lt.Provider,{value:_,children:(0,b.jsx)(He.Provider,{value:E,children:(0,b.jsx)(d,c(c({ref:n},w),{},{className:g()(f,x,a&&S,o&&"".concat(x,"-").concat(o),u&&"bg-".concat(u),l&&"sticky-".concat(l),s&&"fixed-".concat(s))}))})})}));qr.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},qr.displayName="Navbar";var Kr,Gr=Object.assign(qr,{Brand:Tt,Collapse:kn,Offcanvas:Br,Text:Ur,Toggle:En});function Wr(e,t,n){return Wr=Sr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Lt(i,n.prototype),i},Wr.apply(null,arguments)}function Hr(e){var t="function"===typeof Map?new Map:void 0;return Hr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Wr(e,arguments,wr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lt(n,e)},Hr(e)}function Qr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Kr||(Kr={}));var Yr,Xr="popstate";function Jr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Zr(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(J_){}}}function ei(e,t){return{usr:e.state,key:e.key,idx:t}}function ti(e,t,n,r){return void 0===n&&(n=null),$r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ri(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ni(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ri(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ii(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=Kr.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function v(){l=Kr.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function p(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:ni(e);return Jr(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState($r({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Xr,v),f=e,function(){o.removeEventListener(Xr,v),f=null}},createHref:function(e){return t(o,e)},createURL:p,encodeLocation:function(e){var t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=Kr.Push;var r=ti(m.location,e,t);n&&n(r,e);var i=ei(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=Kr.Replace;var r=ti(m.location,e,t);n&&n(r,e);var i=ei(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Yr||(Yr={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function ai(e,t,n){void 0===n&&(n="/");var r=bi(("string"===typeof t?ri(t):t).pathname||"/",n);if(null==r)return null;var i=oi(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=mi(i[o],gi(r));return a}function oi(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Jr(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=Ei([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(Jr(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),oi(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:pi(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Qr(ui(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function ui(e){var t=e.split("/");if(0===t.length)return[];var n,r=l(n=t)||An(n)||h(n)||d(),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=ui(a.join("/")),c=[];return c.push.apply(c,On(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&c.push.apply(c,On(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var si=/^:\w+$/,ci=3,li=2,fi=1,hi=10,di=-2,vi=function(e){return"*"===e};function pi(e,t){var n=e.split("/"),r=n.length;return n.some(vi)&&(r+=di),t&&(r+=li),n.filter((function(e){return!vi(e)})).reduce((function(e,t){return e+(si.test(t)?ci:""===t?fi:hi)}),r)}function mi(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=yi({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Ei([i,l.pathname]),pathnameBase:Si(Ei([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ei([i,l.pathnameBase]))}return a}function yi(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Zr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=v(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Zr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function gi(e){try{return decodeURI(e)}catch(t){return Zr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function bi(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ki(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function wi(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function xi(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=ri(e):(Jr(!(i=$r({},e)).pathname||!i.pathname.includes("?"),ki("?","pathname","search",i)),Jr(!i.pathname||!i.pathname.includes("#"),ki("#","pathname","hash",i)),Jr(!i.search||!i.search.includes("#"),ki("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ri(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:_i(a),hash:Ii(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Ei=function(e){return e.join("/").replace(/\/\/+/g,"/")},Si=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},_i=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ii=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Ti=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n)}(Hr(Error));function Ci(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ni=["post","put","patch","delete"],Di=(new Set(Ni),["get"].concat(Ni));new Set(Di),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var Ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Oi=t.useState,Pi=t.useEffect,Ri=t.useLayoutEffect,Li=t.useDebugValue;function Mi(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ai(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var Fi=t.createContext(null);var ji=t.createContext(null);var Vi=t.createContext(null);var Bi=t.createContext(null);var zi=t.createContext(null);var Ui=t.createContext({outlet:null,matches:[]});var qi=t.createContext(null);function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}function Gi(){return null!=t.useContext(zi)}function Wi(){return Gi()||Jr(!1),t.useContext(zi).location}function Hi(){Gi()||Jr(!1);var e=t.useContext(Bi),n=e.basename,r=e.navigator,i=t.useContext(Ui).matches,a=Wi().pathname,o=JSON.stringify(wi(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=xi(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Ei([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Qi(){var e=t.useContext(Ui).matches,n=e[e.length-1];return n?n.params:{}}function $i(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Ui).matches,a=Wi().pathname,o=JSON.stringify(wi(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return xi(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Yi(){var e=function(){var e,n=t.useContext(qi),r=na(Ji.UseRouteError),i=ra(Ji.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Ci(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Xi,Ji,Zi=function(e){Er(r,e);var n=Ir(r);function r(e){var t;return Pn(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Ln(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ui.Provider,{value:this.props.routeContext},t.createElement(qi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function ea(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Fi);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ui.Provider,{value:n},i)}function ta(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Jr(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(Yi,null));var l=n.concat(i.slice(0,u+1)),f=function(){var n=e;return s?n=c:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(ea,{match:o,routeContext:{outlet:e,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?t.createElement(Zi,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function na(e){var n=t.useContext(ji);return n||Jr(!1),n}function ra(e){var n=function(e){var n=t.useContext(Ui);return n||Jr(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Jr(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Xi||(Xi={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ji||(Ji={}));var ia;function aa(e){Jr(!1)}function oa(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Kr.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Gi()&&Jr(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=ri(o));var v=o,p=v.pathname,m=void 0===p?"/":p,y=v.search,g=void 0===y?"":y,b=v.hash,k=void 0===b?"":b,w=v.state,x=void 0===w?null:w,E=v.key,S=void 0===E?"default":E,_=t.useMemo((function(){var e=bi(m,h);return null==e?null:{location:{pathname:e,search:g,hash:k,state:x,key:S},navigationType:s}}),[h,m,g,k,x,S,s]);return null==_?null:t.createElement(Bi.Provider,{value:d},t.createElement(zi.Provider,{children:a,value:_}))}function ua(e){var n=e.children,r=e.location,i=t.useContext(Fi);return function(e,n){Gi()||Jr(!1);var r,i=t.useContext(Bi).navigator,a=t.useContext(ji),o=t.useContext(Ui).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Wi());if(n){var f,h="string"===typeof n?ri(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||Jr(!1),r=h}else r=l;var d=r.pathname||"/",v=ai(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),p=ta(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ei([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Ei([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&p?t.createElement(zi.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Kr.Pop}},p):p}(i&&!n?i.router.routes:ca(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ia||(ia={}));var sa=new Promise((function(){}));t.Component;function ca(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==aa&&Jr(!1),e.props.index&&e.props.children&&Jr(!1);var a=[].concat(On(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ca(e.props.children,a)),r.push(o)}else r.push.apply(r,ca(e.props.children,n))})),r}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}function fa(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ha=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],da=["aria-current","caseSensitive","className","end","style","to","children"];function va(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),ii((function(e,t){var n=e.location;return ti("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ni(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=v(t.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(oa,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var pa="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ma=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ya=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=fa(e,ha),d=t.useContext(Bi).basename,v=!1;if("string"===typeof l&&ma.test(l)&&(r=l,pa)){var p=new URL(window.location.href),m=l.startsWith("//")?new URL(p.protocol+l):new URL(l),y=bi(m.pathname,d);m.origin===p.origin&&null!=y?l=y+m.search+m.hash:v=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;Gi()||Jr(!1);var i=t.useContext(Bi),a=i.basename,o=i.navigator,u=$i(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:Ei([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Hi(),l=Wi(),f=$i(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:ni(l)===ni(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",la({},h,{href:r||g,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var ga=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,v=fa(e,da),p=$i(h,{relative:v.relative}),m=Wi(),y=t.useContext(ji),g=t.useContext(Bi).navigator,b=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,k=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(k=k.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase());var x,E=k===b||!l&&k.startsWith(b)&&"/"===k.charAt(b.length),S=null!=w&&(w===b||!l&&w.startsWith(b)&&"/"===w.charAt(b.length)),_=E?i:void 0;x="function"===typeof s?s({isActive:E,isPending:S}):[s,E?"active":null,S?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:E,isPending:S}):f;return t.createElement(ya,la({},v,{"aria-current":_,className:x,ref:n,style:I,to:h}),"function"===typeof d?d({isActive:E,isPending:S}):d)}));var ba,ka;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ba||(ba={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ka||(ka={}));function wa(){wa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var h={};function d(){}function v(){}function p(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,o)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,u,s){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:v,configurable:!0}),v.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function xa(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ea(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){xa(a,r,i,o,u,"next",e)}function u(e){xa(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Sa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Ia;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ia=function(e){Er(n,e);var t=Ir(n);function n(){var e;return Pn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Ln(n)}(Hr(Error)),Ta=function(e){return function(e){var t=Sa(e);return _a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ca=function(e){try{return _a.decodeString(e,!0)}catch(J_){console.error("base64Decode failed: ",J_)}return null};function Na(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Na(e[n],t[n]));return e}var Da=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Aa=function(){try{return Da()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/alefer-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiKey:"AIzaSyDMh8wu8I8nVHsyVzm89uWkWUbIz2wRQvc",REACT_APP_appId:"1:289531707287:web:bfb19cf934ad66c11e8ed2",REACT_APP_authDomain:"backend-react-js-39610.firebaseapp.com",REACT_APP_messagingSenderId:"289531707287",REACT_APP_projectId:"backend-react-js-39610",REACT_APP_storageBucket:"backend-react-js-39610.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(J_){return}var t=e&&Ca(e[1]);return t&&JSON.parse(t)}}()}catch(J_){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(J_))}},Oa=function(e){var t=function(e){var t,n;return null===(n=null===(t=Aa())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Pa=function(){var e;return null===(e=Aa())||void 0===e?void 0:e.config},Ra=function(){function e(){var t=this;Pn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ln(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function La(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ma(){return!function(){var e,t=null===(e=Aa())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(J_){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fa(){try{return"object"===typeof indexedDB}catch(J_){return!1}}var ja="FirebaseError",Va=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=ja,Object.setPrototypeOf(_r(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_r(a),Ba.prototype.create),a}return Ln(n)}(Hr(Error)),Ba=function(){function e(t,n,r){Pn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ln(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(za,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Va(n,a,t)}}]),e}();var za=/\{\$([^}]+)}/g;function Ua(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ka(u)&&Ka(s)){if(!qa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ka(e){return null!==e&&"object"===typeof e}function Ga(e,t){var n=new Wa(e,t);return n.subscribe.bind(n)}var Wa=function(){function e(t,n){var r=this;Pn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ln(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Qr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ha),void 0===r.error&&(r.error=Ha),void 0===r.complete&&(r.complete=Ha);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(J_){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(J_){"undefined"!==typeof console&&console.error&&console.error(J_)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ha(){}function Qa(e){return e&&e._delegate?e._delegate:e}var $a=function(){function e(t,n,r){Pn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ln(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ya="[DEFAULT]",Xa=function(){function e(t,n){Pn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ln(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ra;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(J_){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(J_){if(r)return null;throw J_}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch(J_){}var t,n=Qr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(J_){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ea(wa().mark((function e(){var t;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(On(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),On(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Qr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=v(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ow){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ya?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ow){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;return this.component?this.component.multipleInstances?e:Ya:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ja,Za,eo=function(){function e(t){Pn(this,e),this.name=t,this.providers=new Map}return Ln(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Xa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),to=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Za||(Za={}));var no={debug:Za.DEBUG,verbose:Za.VERBOSE,info:Za.INFO,warn:Za.WARN,error:Za.ERROR,silent:Za.SILENT},ro=Za.INFO,io=(u(Ja={},Za.DEBUG,"log"),u(Ja,Za.VERBOSE,"log"),u(Ja,Za.INFO,"info"),u(Ja,Za.WARN,"warn"),u(Ja,Za.ERROR,"error"),Ja),ao=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=io[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},oo=function(){function e(t){Pn(this,e),this.name=t,this._logLevel=ro,this._logHandler=ao,this._userLogHandler=null,to.push(this)}return Ln(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Za))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?no[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Za.DEBUG].concat(t)),this._logHandler.apply(this,[this,Za.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Za.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Za.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Za.INFO].concat(t)),this._logHandler.apply(this,[this,Za.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Za.WARN].concat(t)),this._logHandler.apply(this,[this,Za.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Za.ERROR].concat(t)),this._logHandler.apply(this,[this,Za.ERROR].concat(t))}}]),e}();var uo,so,co=function(e,t){return t.some((function(t){return e instanceof t}))};var lo=new WeakMap,fo=new WeakMap,ho=new WeakMap,vo=new WeakMap,po=new WeakMap;var mo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ho.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function yo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(so||(so=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ko(this),n),bo(lo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bo(e.apply(ko(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ko(this),t].concat(r));return ho.set(a,t.sort?t.sort():[t]),bo(a)}}function go(e){return"function"===typeof e?yo(e):(e instanceof IDBTransaction&&function(e){if(!fo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));fo.set(e,t)}}(e),co(e,uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,mo):e)}function bo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(bo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&lo.set(t,e)})).catch((function(){})),po.set(t,e),t}(e);if(vo.has(e))return vo.get(e);var t=go(e);return t!==e&&(vo.set(e,t),po.set(t,e)),t}var ko=function(e){return po.get(e)};var wo,xo,Eo=["get","getKey","getAll","getAllKeys","count"],So=["put","add","delete","clear"],_o=new Map;function Io(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(_o.get(t))return _o.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=So.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Eo.includes(n))){var a=function(){var e=Ea(wa().mark((function e(t){var a,o,u,s,c,l,f=arguments;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return _o.set(t,a),a}}}mo=function(e){return c(c({},e),{},{get:function(t,n,r){return Io(t,n)||e.get(t,n,r)},has:function(t,n){return!!Io(t,n)||e.has(t,n)}})}(mo);var To=function(){function e(t){Pn(this,e),this.container=t}return Ln(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Co="@firebase/app",No="0.9.8",Do=new oo("@firebase/app"),Ao="[DEFAULT]",Oo=(u(wo={},Co,"fire-core"),u(wo,"@firebase/app-compat","fire-core-compat"),u(wo,"@firebase/analytics","fire-analytics"),u(wo,"@firebase/analytics-compat","fire-analytics-compat"),u(wo,"@firebase/app-check","fire-app-check"),u(wo,"@firebase/app-check-compat","fire-app-check-compat"),u(wo,"@firebase/auth","fire-auth"),u(wo,"@firebase/auth-compat","fire-auth-compat"),u(wo,"@firebase/database","fire-rtdb"),u(wo,"@firebase/database-compat","fire-rtdb-compat"),u(wo,"@firebase/functions","fire-fn"),u(wo,"@firebase/functions-compat","fire-fn-compat"),u(wo,"@firebase/installations","fire-iid"),u(wo,"@firebase/installations-compat","fire-iid-compat"),u(wo,"@firebase/messaging","fire-fcm"),u(wo,"@firebase/messaging-compat","fire-fcm-compat"),u(wo,"@firebase/performance","fire-perf"),u(wo,"@firebase/performance-compat","fire-perf-compat"),u(wo,"@firebase/remote-config","fire-rc"),u(wo,"@firebase/remote-config-compat","fire-rc-compat"),u(wo,"@firebase/storage","fire-gcs"),u(wo,"@firebase/storage-compat","fire-gcs-compat"),u(wo,"@firebase/firestore","fire-fst"),u(wo,"@firebase/firestore-compat","fire-fst-compat"),u(wo,"fire-js","fire-js"),u(wo,"firebase","fire-js-all"),wo),Po=new Map,Ro=new Map;function Lo(e,t){try{e.container.addComponent(t)}catch(J_){Do.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),J_)}}function Mo(e,t){e.container.addOrOverwriteComponent(t)}function Fo(e){var t=e.name;if(Ro.has(t))return Do.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ro.set(t,e);var n,r=Qr(Po.values());try{for(r.s();!(n=r.n()).done;){Lo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ao;jo(e,t).clearInstance(n)}function Bo(){Ro.clear()}var zo=(u(xo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),u(xo,"bad-app-name","Illegal App name: '{$appName}"),u(xo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),u(xo,"app-deleted","Firebase App named '{$appName}' already deleted"),u(xo,"no-options","Need to provide options, when not being deployed to hosting via source."),u(xo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),u(xo,"invalid-log-argument","First argument to `onLog` must be null or a function."),u(xo,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),u(xo,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),u(xo,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),u(xo,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),xo),Uo=new Ba("app","Firebase",zo),qo=function(){function e(t,n,r){var i=this;Pn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",(function(){return i}),"PUBLIC"))}return Ln(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}]),e}(),Ko="9.20.0";function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ao,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Uo.create("bad-app-name",{appName:String(i)});if(n||(n=Pa()),!n)throw Uo.create("no-options");var a=Po.get(i);if(a){if(qa(n,a.options)&&qa(r,a.config))return a;throw Uo.create("duplicate-app",{appName:i})}var o,u=new eo(i),s=Qr(Ro.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new qo(n,r,u);return Po.set(i,l),l}function Wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,t=Po.get(e);if(!t&&e===Ao)return Go();if(!t)throw Uo.create("no-app",{appName:e});return t}function Ho(){return Array.from(Po.values())}function Qo(e){return $o.apply(this,arguments)}function $o(){return $o=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Po.has(n)){e.next=6;break}return Po.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(e,t,n){var r,i=null!==(r=Oo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Do.warn(u.join(" "))}Fo(new $a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Xo(e,t){if(null!==e&&"function"!==typeof e)throw Uo.create("invalid-log-argument");!function(e,t){var n,r=Qr(to);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=no[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Za[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Jo(e){var t;t=e,to.forEach((function(e){e.setLogLevel(t)}))}var Zo="firebase-heartbeat-database",eu=1,tu="firebase-heartbeat-store",nu=null;function ru(){return nu||(nu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=bo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(bo(u.result),e.oldVersion,e.newVersion,bo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Zo,eu,{upgrade:function(e,t){if(0===t)e.createObjectStore(tu)}}).catch((function(e){throw Uo.create("idb-open",{originalErrorMessage:e.message})}))),nu}function iu(e){return au.apply(this,arguments)}function au(){return au=Ea(wa().mark((function e(t){var n,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ru();case 3:return n=e.sent,e.abrupt("return",n.transaction(tu).objectStore(tu).get(su(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Va?Do.warn(e.t0.message):(r=Uo.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Do.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),au.apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Ea(wa().mark((function e(t,n){var r,i,a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ru();case 3:return r=e.sent,i=r.transaction(tu,"readwrite"),a=i.objectStore(tu),e.next=8,a.put(n,su(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Va?Do.warn(e.t0.message):(o=Uo.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Do.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),uu.apply(this,arguments)}function su(e){return"".concat(e.name,"!").concat(e.options.appId)}var cu=1024,lu=function(){function e(t){var n=this;Pn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ln(e,[{key:"triggerHeartbeat",value:function(){var e=Ea(wa().mark((function e(){var t,n,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ea(wa().mark((function e(){var t,n,r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fu(),n=hu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ta(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fu(){return(new Date).toISOString().substring(0,10)}function hu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu,r=[],i=e.slice(),a=Qr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var du,vu=function(){function e(t){Pn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ln(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ea(wa().mark((function e(){var t;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,iu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ea(wa().mark((function e(t){var n,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ou(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ea(wa().mark((function e(t){var n,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ou(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(On(r.heartbeats),On(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pu(e){return Ta(JSON.stringify({version:2,heartbeats:e})).length}du="",Fo(new $a("platform-logger",(function(e){return new To(e)}),"PRIVATE")),Fo(new $a("heartbeat",(function(e){return new lu(e)}),"PRIVATE")),Yo(Co,No,du),Yo(Co,No,"esm2017"),Yo("fire-js","");var mu,yu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gu={},bu=bu||{},ku=yu||self;function wu(){}function xu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Eu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Su="closure_uid_"+(1e9*Math.random()>>>0),_u=0;function Iu(e,t,n){return e.call.apply(e.bind,arguments)}function Tu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cu(e,t,n){return(Cu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iu:Tu).apply(null,arguments)}function Nu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Du(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Au(){this.s=this.s,this.o=this.o}Au.prototype.s=!1,Au.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Su)&&e[Su]||(e[Su]=++_u))},Au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ou=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Pu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ru(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Lu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Lu.prototype.h=function(){this.defaultPrevented=!0};var Mu=function(){if(!ku.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ku.addEventListener("test",wu,t),ku.removeEventListener("test",wu,t)}catch(n){}return e}();function Fu(e){return/^[\s\xa0]*$/.test(e)}var ju=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vu(e,t){return e<t?-1:e>t?1:0}function Bu(){var e=ku.navigator;return e&&(e=e.userAgent)?e:""}function zu(e){return-1!=Bu().indexOf(e)}function Uu(e){return Uu[" "](e),e}Uu[" "]=wu;var qu,Ku=zu("Opera"),Gu=zu("Trident")||zu("MSIE"),Wu=zu("Edge"),Hu=Wu||Gu,Qu=zu("Gecko")&&!(-1!=Bu().toLowerCase().indexOf("webkit")&&!zu("Edge"))&&!(zu("Trident")||zu("MSIE"))&&!zu("Edge"),$u=-1!=Bu().toLowerCase().indexOf("webkit")&&!zu("Edge");function Yu(){var e=ku.document;return e?e.documentMode:void 0}e:{var Xu="",Ju=function(){var e=Bu();return Qu?/rv:([^\);]+)(\)|;)/.exec(e):Wu?/Edge\/([\d\.]+)/.exec(e):Gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$u?/WebKit\/(\S+)/.exec(e):Ku?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ju&&(Xu=Ju?Ju[1]:""),Gu){var Zu=Yu();if(null!=Zu&&Zu>parseFloat(Xu)){qu=String(Zu);break e}}qu=Xu}var es,ts={};function ns(){return function(e){var t=ts;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ju(String(qu)).split("."),n=ju("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vu(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vu(0==a[2].length,0==o[2].length)||Vu(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ku.document&&Gu){var rs=Yu();es=rs||(parseInt(qu,10)||void 0)}else es=void 0;var is=es;function as(e,t){if(Lu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qu){e:{try{Uu(t.nodeName);var i=!0;break e}catch(IS){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:os[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&as.X.h.call(this)}}Du(as,Lu);var os={2:"touch",3:"pen",4:"mouse"};as.prototype.h=function(){as.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var us="closure_listenable_"+(1e6*Math.random()|0),ss=0;function cs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ss,this.ba=this.ea=!1}function ls(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function fs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hs(e){var t={};for(var n in e)t[n]=e[n];return t}var ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ds.length;a++)n=ds[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ps(e){this.src=e,this.g={},this.h=0}function ms(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ou(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ls(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ys(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ps.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ys(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new cs(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var gs="closure_lm_"+(1e6*Math.random()|0),bs={};function ks(e,t,n,r,i){if(r&&r.once)return xs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ks(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[us]?e.N(t,n,Eu(r)?!!r.capture:!!r,i):ws(e,t,n,!1,r,i)}function ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Eu(i)?!!i.capture:!!i,u=Ts(e);if(u||(e[gs]=u=new ps(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Is;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_s(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xs(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[us]?e.O(t,n,Eu(r)?!!r.capture:!!r,i):ws(e,t,n,!0,r,i)}function Es(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Es(e,t[a],n,r,i);else r=Eu(r)?!!r.capture:!!r,n=Ns(n),e&&e[us]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ys(a=e.g[t],n,r,i))&&(ls(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ts(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ys(t,n,r,i)),(n=-1<e?t[e]:null)&&Ss(n))}function Ss(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[us])ms(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_s(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ts(t))?(ms(n,e),0==n.h&&(n.src=null,t[gs]=null)):ls(e)}}}function _s(e){return e in bs?bs[e]:bs[e]="on"+e}function Is(e,t){if(e.ba)e=!0;else{t=new as(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ss(e),e=n.call(r,t)}return e}function Ts(e){return(e=e[gs])instanceof ps?e:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ns(e){return"function"===typeof e?e:(e[Cs]||(e[Cs]=function(t){return e.handleEvent(t)}),e[Cs])}function Ds(){Au.call(this),this.i=new ps(this),this.P=this,this.I=null}function As(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Lu(t,e);else if(t instanceof Lu)t.target=t.target||e;else{var i=t;vs(t=new Lu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Os(o,r,!0,t)&&i}if(i=Os(o=t.g=e,r,!0,t)&&i,i=Os(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Os(o=t.g=n[a],r,!1,t)&&i}function Os(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ms(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Du(Ds,Au),Ds.prototype[us]=!0,Ds.prototype.removeEventListener=function(e,t,n,r){Es(this,e,t,n,r)},Ds.prototype.M=function(){if(Ds.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ls(n[r]);delete t.g[e],t.h--}}this.I=null},Ds.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ds.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ps=ku.JSON.stringify;function Rs(){var e=Us,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ls,Ms=function(){function e(){Pn(this,e),this.h=this.g=null}return Ln(e,[{key:"add",value:function(e,t){var n=Fs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fs=new(function(){function e(t,n){Pn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ln(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new js}),(function(e){return e.reset()})),js=function(){function e(){Pn(this,e),this.next=this.g=this.h=null}return Ln(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vs(e){ku.setTimeout((function(){throw e}),0)}function Bs(e,t){Ls||function(){var e=ku.Promise.resolve(void 0);Ls=function(){e.then(qs)}}(),zs||(Ls(),zs=!0),Us.add(e,t)}var zs=!1,Us=new Ms;function qs(){for(var e;e=Rs();){try{e.h.call(e.g)}catch(n){Vs(n)}var t=Fs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zs=!1}function Ks(e,t){Ds.call(this),this.h=e||1,this.g=t||ku,this.j=Cu(this.lb,this),this.l=Date.now()}function Gs(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ws(e,t,n){if("function"===typeof e)n&&(e=Cu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cu(e.handleEvent,e)}return 2147483647<Number(t)?-1:ku.setTimeout(e,t||0)}function Hs(e){e.g=Ws((function(){e.g=null,e.i&&(e.i=!1,Hs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Du(Ks,Ds),(mu=Ks.prototype).ca=!1,mu.R=null,mu.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),As(this,"tick"),this.ca&&(Gs(this),this.start()))}},mu.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mu.M=function(){Ks.X.M.call(this),Gs(this),delete this.g};var Qs=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ln(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Hs(this)}},{key:"M",value:function(){xr(wr(n.prototype),"M",this).call(this),this.g&&(ku.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Au);function $s(e){Au.call(this),this.h=e,this.g={}}Du($s,Au);var Ys=[];function Xs(e,t,n,r){Array.isArray(n)||(n&&(Ys[0]=n.toString()),n=Ys);for(var i=0;i<n.length;i++){var a=ks(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Js(e){fs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ss(e)}),e),e.g={}}function Zs(){this.g=!0}function ec(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ps(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}$s.prototype.M=function(){$s.X.M.call(this),Js(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zs.prototype.Aa=function(){this.g=!1},Zs.prototype.info=function(){};var tc={},nc=null;function rc(){return nc=nc||new Ds}function ic(e){Lu.call(this,tc.Pa,e)}function ac(e){var t=rc();As(t,new ic(t))}function oc(e,t){Lu.call(this,tc.STAT_EVENT,e),this.stat=t}function uc(e){var t=rc();As(t,new oc(t,e))}function sc(e,t){Lu.call(this,tc.Qa,e),this.size=t}function cc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ku.setTimeout((function(){e()}),t)}tc.Pa="serverreachability",Du(ic,Lu),tc.STAT_EVENT="statevent",Du(oc,Lu),tc.Qa="timingevent",Du(sc,Lu);var lc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},fc={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hc(){}function dc(e){return e.h||(e.h=e.i())}function vc(){}hc.prototype.h=null;var pc,mc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yc(){Lu.call(this,"d")}function gc(){Lu.call(this,"c")}function bc(){}function kc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new $s(this),this.O=xc,e=Hu?125:void 0,this.T=new Ks(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}Du(yc,Lu),Du(gc,Lu),Du(bc,hc),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},pc=new bc;var xc=45e3,Ec={},Sc={};function _c(e,t,n){e.K=1,e.v=Kc(Vc(t)),e.s=n,e.P=!0,Ic(e,null)}function Ic(e,t){e.F=Date.now(),Dc(e),e.A=Vc(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),rl(n.i,"t",r),e.C=0,n=e.l.H,e.h=new wc,e.g=af(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Qs(Cu(e.La,e,e.g),e.N)),Xs(e.S,e.g,"readystatechange",e.ib),t=e.H?hs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ac(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Tc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Cc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nc(e,n))==Sc){4==t&&(e.o=4,uc(14),i=!1),ec(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ec){e.o=4,uc(15),ec(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ec(e.j,e.m,r,null),Lc(e,r)}Tc(e)&&r!=Sc&&r!=Ec&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,uc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yl(t),t.K=!0,uc(11))):(ec(e.j,e.m,n,"[Invalid Chunked Response]"),Rc(e),Pc(e))}function Nc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Sc:(n=Number(t.substring(n,r)),isNaN(n)?Ec:(r+=1)+n>t.length?Sc:(t=t.substr(r,n),e.C=r+n,t))}function Dc(e){e.V=Date.now()+e.O,Ac(e,e.O)}function Ac(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=cc(Cu(e.gb,e),t)}function Oc(e){e.B&&(ku.clearTimeout(e.B),e.B=null)}function Pc(e){0==e.l.G||e.I||Zl(e.l,e)}function Rc(e){Oc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gs(e.T),Js(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Lc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fl(n.h,e)))if(!e.J&&fl(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jl(n),Ul(n)}$l(n),uc(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=cc(Cu(n.cb,n),6e3));if(1>=ll(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else tf(n,11)}else if((e.J||n.g==e)&&Jl(n),!Fu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(hl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,qc(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=rf(r,r.H?r.ka:null,r.V),d.J){dl(r.h,d);var v=d,p=r.J;p&&v.setTimeout(p),v.B&&(Oc(v),Dc(v)),r.g=d}else Ql(r);0<n.i.length&&Kl(n)}else"stop"!=a[0]&&"close"!=a[0]||tf(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?tf(n,7):zl(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ac()}catch(a){}}function Mc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(mu=kc.prototype).setTimeout=function(e){this.O=e},mu.ib=function(e){e=e.target;var t=this.L;t&&3==Ll(e)?t.l():this.La(e)},mu.La=function(e){try{if(e==this.g)e:{var t=Ll(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Hu||this.g&&(this.h.h||this.g.fa()||Ml(this.g)))){this.I||4!=t||7==n||ac(),Oc(this);var r=this.g.aa();this.Y=r;t:if(Tc(this)){var i=Ml(this.g);e="";var a=i.length,o=4==Ll(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rc(this),Pc(this);var u="";break t}this.h.i=new ku.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fu(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,uc(12),Rc(this),Pc(this);break e}ec(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lc(this,r)}this.P?(Cc(this,t,u),Hu&&this.i&&3==t&&(Xs(this.S,this.T,"tick",this.hb),this.T.start())):(ec(this.j,this.m,u,null),Lc(this,u)),4==t&&Rc(this),this.i&&!this.I&&(4==t?Zl(this.l,this):(this.i=!1,Dc(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,uc(12)):(this.o=0,uc(13)),Rc(this),Pc(this)}}}catch(t){}},mu.hb=function(){if(this.g){var e=Ll(this.g),t=this.g.fa();this.C<t.length&&(Oc(this),Cc(this,e,t),this.i&&4!=e&&Dc(this))}},mu.cancel=function(){this.I=!0,Rc(this)},mu.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ac(),uc(17)),Rc(this),this.o=2,Pc(this)):Ac(this,this.V-e)};var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jc){this.h=void 0!==t?t:e.h,Bc(this,e.j),this.s=e.s,this.g=e.g,zc(this,e.m),this.l=e.l,t=e.i;var n=new Zc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Uc(this,n),this.o=e.o}else e&&(n=String(e).match(Fc))?(this.h=!!t,Bc(this,n[1]||"",!0),this.s=Gc(n[2]||""),this.g=Gc(n[3]||"",!0),zc(this,n[4]),this.l=Gc(n[5]||"",!0),Uc(this,n[6]||"",!0),this.o=Gc(n[7]||"")):(this.h=!!t,this.i=new Zc(null,this.h))}function Vc(e){return new jc(e)}function Bc(e,t,n){e.j=n?Gc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Uc(e,t,n){t instanceof Zc?(e.i=t,function(e,t){t&&!e.j&&(el(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tl(this,t),rl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Wc(t,Xc)),e.i=new Zc(t,e.h))}function qc(e,t,n){e.i.set(t,n)}function Kc(e){return qc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wc(t,Qc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wc(t,Qc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wc(n,"/"==n.charAt(0)?Yc:$c,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wc(n,Jc)),e.join("")};var Qc=/[#\/\?@]/g,$c=/[#\?:]/g,Yc=/[#\?]/g,Xc=/[#\?@]/g,Jc=/#/g;function Zc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function el(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tl(e,t){el(e),t=il(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nl(e,t){return el(e),t=il(e,t),e.g.has(t)}function rl(e,t,n){tl(e,t),0<n.length&&(e.i=null,e.g.set(il(e,t),Pu(n)),e.h+=n.length)}function il(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(mu=Zc.prototype).add=function(e,t){el(this),this.i=null,e=il(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},mu.forEach=function(e,t){el(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},mu.oa=function(){el(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},mu.W=function(e){el(this);var t=[];if("string"===typeof e)nl(this,e)&&(t=t.concat(this.g.get(il(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},mu.set=function(e,t){return el(this),this.i=null,nl(this,e=il(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},mu.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},mu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var al=Ln((function e(t,n){Pn(this,e),this.h=t,this.g=n}));function ol(e){this.l=e||sl,ku.PerformanceNavigationTiming?e=0<(e=ku.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ku.g&&ku.g.Ga&&ku.g.Ga()&&ku.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ul,sl=10;function cl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ll(e){return e.h?1:e.g?e.g.size:0}function fl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hl(e,t){e.g?e.g.add(t):e.h=t}function dl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Qr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Pu(e.i)}function pl(){}function ml(){this.g=new pl}function yl(e,t,n){var r=n||"";try{Mc(e,(function(e,n){var i=e;Eu(e)&&(i=Ps(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(J_){throw t.push(r+"type="+encodeURIComponent("_badmap")),J_}}function gl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(IS){}}function bl(e){this.l=e.ac||null,this.j=e.jb||!1}function kl(e,t){Ds.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ol.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Qr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pl.prototype.stringify=function(e){return ku.JSON.stringify(e,void 0)},pl.prototype.parse=function(e){return ku.JSON.parse(e,void 0)},Du(bl,hc),bl.prototype.g=function(){return new kl(this.l,this.j)},bl.prototype.i=(ul={},function(){return ul}),Du(kl,Ds);var wl=0;function xl(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function El(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sl(e)}function Sl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(mu=kl.prototype).open=function(e,t){if(this.readyState!=wl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sl(this)},mu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ku).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},mu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,El(this)),this.readyState=wl},mu.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ku.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xl(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},mu.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?El(this):Sl(this),3==this.readyState&&xl(this)}},mu.Va=function(e){this.g&&(this.response=this.responseText=e,El(this))},mu.Ua=function(e){this.g&&(this.response=e,El(this))},mu.ga=function(){this.g&&El(this)},mu.setRequestHeader=function(e,t){this.v.append(e,t)},mu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},mu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _l=ku.JSON.parse;function Il(e){Ds.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tl,this.K=this.L=!1}Du(Il,Ds);var Tl="",Cl=/^https?$/i,Nl=["POST","PUT"];function Dl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Al(e),Pl(e)}function Al(e){e.D||(e.D=!0,As(e,"complete"),As(e,"error"))}function Ol(e){if(e.h&&"undefined"!=typeof bu&&(!e.C[1]||4!=Ll(e)||2!=e.aa()))if(e.v&&4==Ll(e))Ws(e.Ha,0,e);else if(As(e,"readystatechange"),4==Ll(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fc)[1]||null;if(!a&&ku.self&&ku.self.location){var o=ku.self.location.protocol;a=o.substr(0,o.length-1)}i=!Cl.test(a?a.toLowerCase():"")}t=i}if(t)As(e,"complete"),As(e,"success");else{e.m=6;try{var u=2<Ll(e)?e.g.statusText:""}catch(xS){u=""}e.j=u+" ["+e.aa()+"]",Al(e)}}finally{Pl(e)}}}function Pl(e,t){if(e.g){Rl(e);var n=e.g,r=e.C[0]?wu:null;e.g=null,e.C=null,t||As(e,"ready");try{n.onreadystatechange=r}catch(J_){}}}function Rl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ku.clearTimeout(e.A),e.A=null)}function Ll(e){return e.g?e.g.readyState:0}function Ml(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xf){return null}}function Fl(e){var t="";return fs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qc(e,t,n))}function Vl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bl(e){this.Ca=0,this.i=[],this.j=new Zs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vl("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vl("baseRetryDelayMs",5e3,e),this.bb=Vl("retryDelaySeedMs",1e4,e),this.$a=Vl("forwardChannelMaxRetries",2,e),this.ta=Vl("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ol(e&&e.concurrentRequestLimit),this.Fa=new ml,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function zl(e){if(ql(e),3==e.G){var t=e.U++,n=Vc(e.F);qc(n,"SID",e.I),qc(n,"RID",t),qc(n,"TYPE","terminate"),Wl(e,n),(t=new kc(e,e.j,t,void 0)).K=2,t.v=Kc(Vc(n)),n=!1,ku.navigator&&ku.navigator.sendBeacon&&(n=ku.navigator.sendBeacon(t.v.toString(),"")),!n&&ku.Image&&((new Image).src=t.v,n=!0),n||(t.g=af(t.l,null),t.g.da(t.v)),t.F=Date.now(),Dc(t)}nf(e)}function Ul(e){e.g&&(Yl(e),e.g.cancel(),e.g=null)}function ql(e){Ul(e),e.u&&(ku.clearTimeout(e.u),e.u=null),Jl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ku.clearTimeout(e.m),e.m=null)}function Kl(e){cl(e.h)||e.m||(e.m=!0,Bs(e.Ja,e),e.C=0)}function Gl(e,t){var n;n=t?t.m:e.U++;var r=Vc(e.F);qc(r,"SID",e.I),qc(r,"RID",n),qc(r,"AID",e.T),Wl(e,r),e.o&&e.s&&jl(r,e.o,e.s),n=new kc(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Hl(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),hl(e.h,n),_c(n,r,t)}function Wl(e,t){e.ia&&fs(e.ia,(function(e,n){qc(t,n,e)})),e.l&&Mc({},(function(e,n){qc(t,n,e)}))}function Hl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Cu(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{yl(l,o,"req"+c+"_")}catch(Of){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Ql(e){e.g||e.u||(e.Z=1,Bs(e.Ia,e),e.A=0)}function $l(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=cc(Cu(e.Ia,e),ef(e,e.A)),e.A++,!0)}function Yl(e){null!=e.B&&(ku.clearTimeout(e.B),e.B=null)}function Xl(e){e.g=new kc(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Vc(e.sa);qc(t,"RID","rpc"),qc(t,"SID",e.I),qc(t,"CI",e.L?"0":"1"),qc(t,"AID",e.T),qc(t,"TYPE","xmlhttp"),Wl(e,t),e.o&&e.s&&jl(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Kc(Vc(t)),n.s=null,n.P=!0,Ic(n,e)}function Jl(e){null!=e.v&&(ku.clearTimeout(e.v),e.v=null)}function Zl(e,t){var n=null;if(e.g==t){Jl(e),Yl(e),e.g=null;var r=2}else{if(!fl(e.h,t))return;n=t.D,dl(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;As(r=rc(),new sc(r,n)),Kl(e)}else Ql(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ll(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=cc(Cu(e.Ja,e,t),ef(e,e.C)),e.C++,!0))}(e,t)||2==r&&$l(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:tf(e,5);break;case 4:tf(e,10);break;case 3:tf(e,6);break;default:tf(e,2)}}function ef(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function tf(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Cu(e.kb,e);n||(n=new jc("//www.google.com/images/cleardot.gif"),ku.location&&"http"==ku.location.protocol||Bc(n,"https"),Kc(n)),function(e,t){var n=new Zs;if(ku.Image){var r=new Image;r.onload=Nu(gl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nu(gl,n,r,"TestLoadImage: error",!1,t),r.onabort=Nu(gl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nu(gl,n,r,"TestLoadImage: timeout",!1,t),ku.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else uc(2);e.G=0,e.l&&e.l.va(t),nf(e),ql(e)}function nf(e){if(e.G=0,e.la=[],e.l){var t=vl(e.h);0==t.length&&0==e.i.length||(Ru(e.la,t),Ru(e.la,e.i),e.h.i.length=0,Pu(e.i),e.i.length=0),e.l.ua()}}function rf(e,t,n){var r=n instanceof jc?Vc(n):new jc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),zc(r,r.m);else{var i=ku.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new jc(null,void 0);r&&Bc(a,r),t&&(a.g=t),i&&zc(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&qc(r,n,t),qc(r,"VER",e.ma),Wl(e,r),r}function af(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Il(new bl({jb:!0})):new Il(e.ra)).Ka(e.H),t}function of(){}function uf(){if(Gu&&!(10<=Number(is)))throw Error("Environmental error: no available transport.")}function sf(e,t){Ds.call(this),this.g=new Bl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Fu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ff(this)}function cf(e){yc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lf(){gc.call(this),this.status=1}function ff(e){this.g=e}(mu=Il.prototype).Ka=function(e){this.L=e},mu.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pc.g(),this.C=this.u?dc(this.u):dc(pc),this.g.onreadystatechange=Cu(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Dl(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Qr(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ku.FormData&&e instanceof ku.FormData,!(0<=Ou(Nl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Qr(n);try{for(c.s();!(s=c.n()).done;){var l=v(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rl(this),0<this.B&&((this.K=function(e){return Gu&&ns()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cu(this.qa,this)):this.A=Ws(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Dl(this,u)}},mu.qa=function(){"undefined"!=typeof bu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,As(this,"timeout"),this.abort(8))},mu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,As(this,"complete"),As(this,"abort"),Pl(this))},mu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),Il.X.M.call(this)},mu.Ha=function(){this.s||(this.F||this.v||this.l?Ol(this):this.fb())},mu.fb=function(){Ol(this)},mu.aa=function(){try{return 2<Ll(this)?this.g.status:-1}catch(ul){return-1}},mu.fa=function(){try{return this.g?this.g.responseText:""}catch(ul){return""}},mu.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_l(t)}},mu.Ea=function(){return this.m},mu.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(mu=Bl.prototype).ma=8,mu.G=1,mu.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new kc(this,this.j,e,void 0),n=this.s;if(this.S&&(n?vs(n=hs(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hl(this,t,r),qc(i=Vc(this.F),"RID",e),qc(i,"CVER",22),this.D&&qc(i,"X-HTTP-Session-Id",this.D),Wl(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Fl(n)))+"&"+r:this.o&&jl(i,this.o,n)),hl(this.h,t),this.Ya&&qc(i,"TYPE","init"),this.O?(qc(i,"$req",r),qc(i,"SID","null"),t.Z=!0,_c(t,i,null)):_c(t,i,r),this.G=2}}else 3==this.G&&(e?Gl(this,e):0==this.i.length||cl(this.h)||Gl(this))},mu.Ia=function(){if(this.u=null,Xl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=cc(Cu(this.eb,this),e)}},mu.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,uc(10),Ul(this),Xl(this))},mu.cb=function(){null!=this.v&&(this.v=null,Ul(this),$l(this),uc(19))},mu.kb=function(e){e?(this.j.info("Successfully pinged google.com"),uc(2)):(this.j.info("Failed to ping google.com"),uc(1))},(mu=of.prototype).xa=function(){},mu.wa=function(){},mu.va=function(){},mu.ua=function(){},mu.Ra=function(){},uf.prototype.g=function(e,t){return new sf(e,t)},Du(sf,Ds),sf.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;uc(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=rf(e,null,e.V),Kl(e)},sf.prototype.close=function(){zl(this.g)},sf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ps(e),e=n);t.i.push(new al(t.ab++,e)),3==t.G&&Kl(t)},sf.prototype.M=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,sf.X.M.call(this)},Du(cf,yc),Du(lf,gc),Du(ff,of),ff.prototype.xa=function(){As(this.g,"a")},ff.prototype.wa=function(e){As(this.g,new cf(e))},ff.prototype.va=function(e){As(this.g,new lf)},ff.prototype.ua=function(){As(this.g,"b")},uf.prototype.createWebChannel=uf.prototype.g,sf.prototype.send=sf.prototype.u,sf.prototype.open=sf.prototype.m,sf.prototype.close=sf.prototype.close,lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,fc.COMPLETE="complete",vc.EventType=mc,mc.OPEN="a",mc.CLOSE="b",mc.ERROR="c",mc.MESSAGE="d",Ds.prototype.listen=Ds.prototype.N,Il.prototype.listenOnce=Il.prototype.O,Il.prototype.getLastError=Il.prototype.Oa,Il.prototype.getLastErrorCode=Il.prototype.Ea,Il.prototype.getStatus=Il.prototype.aa,Il.prototype.getResponseJson=Il.prototype.Sa,Il.prototype.getResponseText=Il.prototype.fa,Il.prototype.send=Il.prototype.da,Il.prototype.setWithCredentials=Il.prototype.Ka;var hf=gu.createWebChannelTransport=function(){return new uf},df=gu.getStatEventTarget=function(){return rc()},vf=gu.ErrorCode=lc,pf=gu.EventType=fc,mf=gu.Event=tc,yf=gu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gf=gu.FetchXmlHttpFactory=bl,bf=gu.WebChannel=vc,kf=gu.XhrIo=Il,wf="@firebase/firestore",xf=function(){function e(t){Pn(this,e),this.uid=t}return Ln(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xf.UNAUTHENTICATED=new xf(null),xf.GOOGLE_CREDENTIALS=new xf("google-credentials-uid"),xf.FIRST_PARTY=new xf("first-party-uid"),xf.MOCK_USER=new xf("mock-user");var Ef="9.20.0",Sf=new oo("@firebase/firestore");function _f(){return Sf.logLevel}function If(e){if(Sf.logLevel<=Za.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nf);Sf.debug.apply(Sf,["Firestore (".concat(Ef,"): ").concat(e)].concat(On(i)))}}function Tf(e){if(Sf.logLevel<=Za.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nf);Sf.error.apply(Sf,["Firestore (".concat(Ef,"): ").concat(e)].concat(On(i)))}}function Cf(e){if(Sf.logLevel<=Za.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nf);Sf.warn.apply(Sf,["Firestore (".concat(Ef,"): ").concat(e)].concat(On(i)))}}function Nf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ef,") INTERNAL ASSERTION FAILED: ")+e;throw Tf(t),new Error(t)}function Af(e,t){e||Df()}function Of(e,t){return e}var Pf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rf=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ln(n)}(Va),Lf=Ln((function e(){var t=this;Pn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Mf=Ln((function e(t,n){Pn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ff=function(){function e(){Pn(this,e)}return Ln(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jf=function(){function e(t){Pn(this,e),this.token=t,this.changeListener=null}return Ln(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Vf=function(){function e(t){Pn(this,e),this.t=t,this.currentUser=xf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ln(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Lf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Lf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){If("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(If("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(If("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Af("string"==typeof n.accessToken),new Mf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Af(null===e||"string"==typeof e),new xf(e)}}]),e}(),Bf=function(){function e(t,n,r){Pn(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=xf.FIRST_PARTY,this.g=new Map}return Ln(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),zf=function(){function e(t,n,r){Pn(this,e),this.h=t,this.l=n,this.m=r}return Ln(e,[{key:"getToken",value:function(){return Promise.resolve(new Bf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Uf=Ln((function e(t){Pn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),qf=function(){function e(t){Pn(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Ln(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&If("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,If("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){If("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):If("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Af("string"==typeof t.token),e.T=t.token,new Uf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Kf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Gf=function(){function e(){Pn(this,e)}return Ln(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Kf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Wf(e,t){return e<t?-1:e>t?1:0}function Hf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Qf(e){return e+"\0"}var $f=function(){function e(t,n){if(Pn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Rf(Pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rf(Pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Rf(Pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rf(Pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ln(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Wf(this.nanoseconds,e.nanoseconds):Wf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yf=function(){function e(t){Pn(this,e),this.timestamp=t}return Ln(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new $f(0,0))}},{key:"max",value:function(){return new e(new $f(253402300799,999999999))}}]),e}(),Xf=function(){function e(t,n,r){Pn(this,e),void 0===n?n=0:n>t.length&&Df(),void 0===r?r=t.length-n:r>t.length-n&&Df(),this.segments=t,this.offset=n,this.len=r}return Ln(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jf=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,On(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xf),Zf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,eh=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Rf(Pf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Rf(Pf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Rf(Pf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xf),th=function(){function e(t){Pn(this,e),this.path=t}return Ln(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jf.fromString(t))}},{key:"fromName",value:function(t){return new e(Jf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jf.emptyPath())}},{key:"comparator",value:function(e,t){return Jf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jf(t.slice()))}}]),e}(),nh=Ln((function e(t,n,r,i){Pn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rh(e){return e.fields.find((function(e){return 2===e.kind}))}function ih(e){return e.fields.filter((function(e){return 2!==e.kind}))}nh.UNKNOWN_ID=-1;var ah=Ln((function e(t,n){Pn(this,e),this.fieldPath=t,this.kind=n}));var oh=function(){function e(t,n){Pn(this,e),this.sequenceNumber=t,this.offset=n}return Ln(e,null,[{key:"empty",value:function(){return new e(0,ch.min())}}]),e}();function uh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yf.fromTimestamp(1e9===r?new $f(n+1,0):new $f(n,r));return new ch(i,th.empty(),t)}function sh(e){return new ch(e.readTime,e.key,-1)}var ch=function(){function e(t,n,r){Pn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ln(e,null,[{key:"min",value:function(){return new e(Yf.min(),th.empty(),-1)}},{key:"max",value:function(){return new e(Yf.max(),th.empty(),-1)}}]),e}();function lh(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=th.comparator(e.documentKey,t.documentKey))?n:Wf(e.largestBatchId,t.largestBatchId)}var fh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hh=function(){function e(){Pn(this,e),this.onCommittedListeners=[]}return Ln(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dh(e){return vh.apply(this,arguments)}function vh(){return vh=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Pf.FAILED_PRECONDITION&&t.message===fh){e.next=2;break}throw t;case 2:If("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}var ph=function(){function e(t){var n=this;Pn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ln(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Df(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Qr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mh=function(){function e(t,n){var r=this;Pn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Lf,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new bh(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Sh(e.target.error);r.R.reject(new bh(t,n))}}return Ln(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(If("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new wh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new bh(n,t)}}}]),e}(),yh=function(){function e(t,n,r){Pn(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(La())&&Tf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ln(e,[{key:"$",value:function(){var e=Ea(wa().mark((function e(t){var n=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return If("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new bh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Rf(Pf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Rf(Pf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new bh(t,n))},i.onupgradeneeded=function(e){If("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){If("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ea(wa().mark((function e(t,n,r,i){var a,o,u,s,c=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=wa().mark((function e(){var n,u,s,l;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=mh.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),ph.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,If("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return If("SimpleDb","Removing database:",e),xh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Fa())return!1;if(e.C())return!0;var t=La(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/alefer-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiKey:"AIzaSyDMh8wu8I8nVHsyVzm89uWkWUbIz2wRQvc",REACT_APP_appId:"1:289531707287:web:bfb19cf934ad66c11e8ed2",REACT_APP_authDomain:"backend-react-js-39610.firebaseapp.com",REACT_APP_messagingSenderId:"289531707287",REACT_APP_projectId:"backend-react-js-39610",REACT_APP_storageBucket:"backend-react-js-39610.appspot.com"})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gh=function(){function e(t){Pn(this,e),this.L=t,this.q=!1,this.U=null}return Ln(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return xh(this.L.delete())}}]),e}(),bh=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,Pf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ln(n)}(Rf);function kh(e){return"IndexedDbTransactionError"===e.name}var wh=function(){function e(t){Pn(this,e),this.store=t}return Ln(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(If("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(If("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xh(n)}},{key:"add",value:function(e){return If("SimpleDb","ADD",this.store.name,e,e),xh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),If("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return If("SimpleDb","DELETE",this.store.name,e),xh(this.store.delete(e))}},{key:"count",value:function(){return If("SimpleDb","COUNT",this.store.name),xh(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ph((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ph((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){If("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new ph((function(n,r){t.onerror=function(e){var t=Sh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new ph((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gh(i),o=t(i.primaryKey,i.value,a);if(o instanceof ph){var u=o.catch((function(e){return a.done(),ph.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return ph.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xh(e){return new ph((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Sh(e.target.error);n(t)}}))}var Eh=!1;function Sh(e){var t=yh.S(La());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Rf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Eh||(Eh=!0,setTimeout((function(){throw r}),0)),r}}return e}var _h=function(){function e(t,n){Pn(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Ln(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;If("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=If,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!kh(e.t4)){e.next=17;break}If("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,dh(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ih=function(){function e(t,n){Pn(this,e),this.localStore=t,this.persistence=n}return Ln(e,[{key:"nt",value:function(){var e=Ea(wa().mark((function e(){var t,n=this,r=arguments;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ph.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return If("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return If("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=sh(t);lh(r,n)>0&&(n=r)})),new ch(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Th=function(){function e(t,n){var r=this;Pn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Ln(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ch(e){return null==e}function Nh(e){return 0===e&&1/e==-1/0}function Dh(e){return"number"==typeof e&&Number.isInteger(e)&&!Nh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ah(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ph(t)),t=Oh(e.get(n),t);return Ph(t)}function Oh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ph(e){return e+"\x01\x01"}function Rh(e){var t=e.length;if(Af(t>=2),2===t)return Af("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Df(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Df()}a=o+2}return new Jf(r)}Th.ct=-1;var Lh=["userId","batchId"];function Mh(e,t){return[e,Ah(t)]}function Fh(e,t,n){return[e,Ah(t),n]}var jh={},Vh=["prefixPath","collectionGroup","readTime","documentId"],Bh=["prefixPath","collectionGroup","documentId"],zh=["collectionGroup","readTime","prefixPath","documentId"],Uh=["canonicalId","targetId"],qh=["targetId","path"],Kh=["path","targetId"],Gh=["collectionId","parent"],Wh=["indexId","uid"],Hh=["uid","sequenceNumber"],Qh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$h=["indexId","uid","orderedDocumentKey"],Yh=["userId","collectionPath","documentId"],Xh=["userId","collectionPath","largestBatchId"],Jh=["userId","collectionGroup","largestBatchId"],Zh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ed=[].concat(On(Zh),["documentOverlays"]),td=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nd=td,rd=[].concat(nd,["indexConfiguration","indexState","indexEntries"]),id=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return Ln(n)}(hh);function ad(e,t){var n=Of(e);return yh.O(n.at,t)}function od(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ud(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var cd=function(){function e(t,n){Pn(this,e),this.comparator=t,this.root=n||fd.EMPTY}return Ln(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ld(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ld(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ld(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ld(this.root,e,this.comparator,!0)}}]),e}(),ld=function(){function e(t,n,r,i){Pn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ln(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fd=function(){function e(t,n,r,i,a){Pn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ln(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Df();if(this.right.isRed())throw Df();var e=this.left.check();if(e!==this.right.check())throw Df();return e+(this.isRed()?0:1)}}]),e}();fd.EMPTY=null,fd.RED=!0,fd.BLACK=!1,fd.EMPTY=new(function(){function e(){Pn(this,e),this.size=0}return Ln(e,[{key:"key",get:function(){throw Df()}},{key:"value",get:function(){throw Df()}},{key:"color",get:function(){throw Df()}},{key:"left",get:function(){throw Df()}},{key:"right",get:function(){throw Df()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hd=function(){function e(t){Pn(this,e),this.comparator=t,this.data=new cd(this.comparator)}return Ln(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dd=function(){function e(t){Pn(this,e),this.iter=t}return Ln(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vd(e){return e.hasNext()?e.getNext():void 0}var pd=function(){function e(t){Pn(this,e),this.fields=t,t.sort(eh.comparator)}return Ln(e,[{key:"unionWith",value:function(t){var n,r=new hd(eh.comparator),i=Qr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Qr(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Qr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Hf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),md=function(e){Er(n,e);var t=Ir(n);function n(){var e;return Pn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Ln(n)}(Hr(Error));var yd=function(e){function t(e){Pn(this,t),this.binaryString=e}return Ln(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Wf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new md("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yd.EMPTY_BYTE_STRING=new yd("");var gd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bd(e){if(Af(!!e),"string"==typeof e){var t=0,n=gd.exec(e);if(Af(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kd(e.seconds),nanos:kd(e.nanos)}}function kd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wd(e){return"string"==typeof e?yd.fromBase64String(e):yd.fromUint8Array(e)}function xd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ed(e){var t=e.mapValue.fields.__previous_value__;return xd(t)?Ed(t):t}function Sd(e){var t=bd(e.mapValue.fields.__local_write_time__.timestampValue);return new $f(t.seconds,t.nanos)}var _d=Ln((function e(t,n,r,i,a,o,u,s){Pn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Id=function(){function e(t,n){Pn(this,e),this.projectId=t,this.database=n||"(default)"}return Ln(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cd={nullValue:"NULL_VALUE"};function Nd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xd(e)?4:qd(e)?9007199254740991:10:Df()}function Dd(e,t){if(e===t)return!0;var n=Nd(e);if(n!==Nd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sd(e).isEqual(Sd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bd(e.timestampValue),r=bd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wd(e.bytesValue).isEqual(wd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kd(e.geoPointValue.latitude)===kd(t.geoPointValue.latitude)&&kd(e.geoPointValue.longitude)===kd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kd(e.integerValue)===kd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=kd(e.doubleValue),r=kd(t.doubleValue);return n===r?Nh(n)===Nh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hf(e.arrayValue.values||[],t.arrayValue.values||[],Dd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(od(n)!==od(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dd(n[i],r[i])))return!1;return!0}(e,t);default:return Df()}}function Ad(e,t){return void 0!==(e.values||[]).find((function(e){return Dd(e,t)}))}function Od(e,t){if(e===t)return 0;var n=Nd(e),r=Nd(t);if(n!==r)return Wf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=kd(e.integerValue||e.doubleValue),r=kd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pd(e.timestampValue,t.timestampValue);case 4:return Pd(Sd(e),Sd(t));case 5:return Wf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wd(e),r=wd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Wf(n[i],r[i]);if(0!==a)return a}return Wf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Wf(kd(e.latitude),kd(t.latitude));return 0!==n?n:Wf(kd(e.longitude),kd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Od(n[i],r[i]);if(a)return a}return Wf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Td.mapValue&&t===Td.mapValue)return 0;if(e===Td.mapValue)return 1;if(t===Td.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Wf(r[o],a[o]);if(0!==u)return u;var s=Od(n[r[o]],i[a[o]]);if(0!==s)return s}return Wf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Df()}}function Pd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wf(e,t);var n=bd(e),r=bd(t),i=Wf(n.seconds,r.seconds);return 0!==i?i:Wf(n.nanos,r.nanos)}function Rd(e){return Ld(e)}function Ld(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,th.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Qr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ld(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Qr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ld(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Df();var t,n}function Md(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fd(e){return!!e&&"integerValue"in e}function jd(e){return!!e&&"arrayValue"in e}function Vd(e){return!!e&&"nullValue"in e}function Bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zd(e){return!!e&&"mapValue"in e}function Ud(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ud(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ud(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ud(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kd(e){return"nullValue"in e?Cd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Md(Id.empty(),th.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Df()}function Gd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Md(Id.empty(),th.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Td:Df()}function Wd(e,t){var n=Od(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hd(e,t){var n=Od(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Qd=function(){function e(t){Pn(this,e),this.value=t}return Ln(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(t)}},{key:"setAll",value:function(e){var t=this,n=eh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ud(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ud(t,(function(t,n){return e[t]=n}));var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ud(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $d(e){var t=[];return ud(e.fields,(function(e,n){var r=new eh([e]);if(zd(n)){var i=$d(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Qr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new pd(t)}var Yd=function(){function e(t,n,r,i,a,o,u){Pn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Ln(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Yf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Qd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Qd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yf.min(),Yf.min(),Yf.min(),Qd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Yf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yf.min(),Yf.min(),Qd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yf.min(),Yf.min(),Qd.empty(),2)}}]),e}(),Xd=Ln((function e(t,n){Pn(this,e),this.position=t,this.inclusive=n}));function Jd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?th.comparator(th.fromName(o.referenceValue),n.key):Od(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dd(e.position[n],t.position[n]))return!1;return!0}var ev=Ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Pn(this,e),this.field=t,this.dir=n}));function tv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var nv=Ln((function e(){Pn(this,e)})),rv=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Od(t,this.value)):null!==t&&Nd(this.value)===Nd(t)&&this.matchesComparison(Od(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Df()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new dv(e,t,r):"array-contains"===t?new yv(e,r):"in"===t?new gv(e,r):"not-in"===t?new bv(e,r):"array-contains-any"===t?new kv(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new vv(e,n):new pv(e,n)}}]),n}(nv),iv=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Ln(n,[{key:"matches",value:function(e){return av(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Qr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(nv);function av(e){return"and"===e.op}function ov(e){return"or"===e.op}function uv(e){return sv(e)&&av(e)}function sv(e){var t,n=Qr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof iv)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function cv(e){if(e instanceof rv)return e.field.canonicalString()+e.op.toString()+Rd(e.value);if(uv(e))return e.filters.map((function(e){return cv(e)})).join(",");var t=e.filters.map((function(e){return cv(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function lv(e,t){return e instanceof rv?function(e,t){return t instanceof rv&&e.op===t.op&&e.field.isEqual(t.field)&&Dd(e.value,t.value)}(e,t):e instanceof iv?function(e,t){return t instanceof iv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&lv(n,t.filters[r])}),!0)}(e,t):void Df()}function fv(e,t){var n=e.filters.concat(t);return iv.create(n,e.op)}function hv(e){return e instanceof rv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rd(e.value))}(e):e instanceof iv?function(e){return e.op.toString()+" {"+e.getFilters().map(hv).join(" ,")+"}"}(e):"Filter"}var dv=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this,e,r,i)).key=th.fromName(i.referenceValue),a}return Ln(n,[{key:"matches",value:function(e){var t=th.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(rv),vv=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,"in",r)).keys=mv("in",r),i}return Ln(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rv),pv=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,"not-in",r)).keys=mv("not-in",r),i}return Ln(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rv);function mv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return th.fromName(e.referenceValue)}))}var yv=function(e){Er(n,e);var t=Ir(n);function n(e,r){return Pn(this,n),t.call(this,e,"array-contains",r)}return Ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jd(t)&&Ad(t.arrayValue,this.value)}}]),n}(rv),gv=function(e){Er(n,e);var t=Ir(n);function n(e,r){return Pn(this,n),t.call(this,e,"in",r)}return Ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ad(this.value.arrayValue,t)}}]),n}(rv),bv=function(e){Er(n,e);var t=Ir(n);function n(e,r){return Pn(this,n),t.call(this,e,"not-in",r)}return Ln(n,[{key:"matches",value:function(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ad(this.value.arrayValue,t)}}]),n}(rv),kv=function(e){Er(n,e);var t=Ir(n);function n(e,r){return Pn(this,n),t.call(this,e,"array-contains-any",r)}return Ln(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ad(t.value.arrayValue,e)}))}}]),n}(rv),wv=Ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Pn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function xv(e){return new wv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ev(e){var t=Of(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return cv(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Rd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Rd(e)})).join(",")),t.ft=n}return t.ft}function Sv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!lv(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zd(e.startAt,t.startAt)&&Zd(e.endAt,t.endAt)}function _v(e){return th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Iv(e,t){return e.filters.filter((function(e){return e instanceof rv&&e.field.isEqual(t)}))}function Tv(e,t,n){var r,i=Cd,a=!0,o=Qr(Iv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Cd,c=!0;switch(u.op){case"<":case"<=":s=Kd(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Cd}Wd({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wd({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Cv(e,t,n){var r,i=Td,a=!0,o=Qr(Iv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Td,c=!0;switch(u.op){case">=":case">":s=Gd(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Td}Hd({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hd({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Nv=Ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Pn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Dv(e,t,n,r,i,a,o,u){return new Nv(e,t,n,r,i,a,o,u)}function Av(e){return new Nv(e)}function Ov(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rv(e){var t,n=Qr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Lv(e){return null!==e.collectionGroup}function Mv(e){var t=Of(e);if(null===t.dt){t.dt=[];var n=Rv(t),r=Pv(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ev(n)),t.dt.push(new ev(eh.keyField(),"asc"));else{var i,a=!1,o=Qr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ev(eh.keyField(),s))}}}return t.dt}function Fv(e){var t=Of(e);if(!t.wt)if("F"===t.limitType)t.wt=xv(t.path,t.collectionGroup,Mv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Qr(Mv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ev(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Xd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Xd(t.startAt.position,t.startAt.inclusive):null;t.wt=xv(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function jv(e,t){t.getFirstInequalityField(),Rv(e);var n=e.filters.concat([t]);return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vv(e,t,n){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bv(e,t){return Sv(Fv(e),Fv(t))&&e.limitType===t.limitType}function zv(e){return"".concat(Ev(Fv(e)),"|lt:").concat(e.limitType)}function Uv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return hv(e)})).join(", "),"]")),Ch(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Rd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Rd(e)})).join(",")),"Target(".concat(t,")")}(Fv(e)),"; limitType=").concat(e.limitType,")")}function qv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):th.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Qr(Mv(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Qr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Jd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mv(e),t))&&!(e.endAt&&!function(e,t,n){var r=Jd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mv(e),t))}(e,t)}function Kv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gv(e){return function(t,n){var r,i=!1,a=Qr(Mv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Wv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Wv(e,t,n){var r=e.field.isKeyField()?th.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Od(r,i):Df()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Df()}}var Hv=function(){function e(t,n){Pn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ln(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ud(this.inner,(function(t,n){var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return sd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Qv=new cd(th.comparator);function $v(){return Qv}var Yv=new cd(th.comparator);function Xv(){for(var e=Yv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jv(e){var t=Yv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Zv(){return tp()}function ep(){return tp()}function tp(){return new Hv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var np=new cd(th.comparator),rp=new hd(th.comparator);function ip(){for(var e=rp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ap=new hd(Wf);function op(){return ap}function up(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(t)?"-0":t}}function sp(e){return{integerValue:""+e}}function cp(e,t){return Dh(t)?sp(t):up(e,t)}var lp=Ln((function e(){Pn(this,e),this._=void 0}));function fp(e,t,n){return e instanceof vp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pp?mp(e,t):e instanceof yp?gp(e,t):function(e,t){var n=dp(e,t),r=kp(n)+kp(e._t);return Fd(n)&&Fd(e._t)?sp(r):up(e.serializer,r)}(e,t)}function hp(e,t,n){return e instanceof pp?mp(e,t):e instanceof yp?gp(e,t):n}function dp(e,t){return e instanceof bp?Fd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var vp=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n)}(lp),pp=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).elements=e,r}return Ln(n)}(lp);function mp(e,t){var n,r=wp(t),i=Qr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Dd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yp=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).elements=e,r}return Ln(n)}(lp);function gp(e,t){var n,r=wp(t),i=Qr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Dd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bp=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return Ln(n)}(lp);function kp(e){return kd(e.integerValue||e.doubleValue)}function wp(e){return jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xp=Ln((function e(t,n){Pn(this,e),this.field=t,this.transform=n}));var Ep=Ln((function e(t,n){Pn(this,e),this.version=t,this.transformResults=n})),Sp=function(){function e(t,n){Pn(this,e),this.updateTime=t,this.exists=n}return Ln(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ip=Ln((function e(){Pn(this,e)}));function Tp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vp(e.key,Sp.none()):new Op(e.key,e.data,Sp.none());var n,r=e.data,i=Qd.empty(),a=new hd(eh.comparator),o=Qr(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Pp(e.key,i,new pd(a.toArray()),Sp.none())}function Cp(e,t,n){e instanceof Op?function(e,t,n){var r=e.value.clone(),i=Lp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pp?function(e,t,n){if(_p(e.precondition,t)){var r=Lp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Np(e,t,n,r){return e instanceof Op?function(e,t,n,r){if(!_p(e.precondition,t))return n;var i=e.value.clone(),a=Mp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pp?function(e,t,n,r){if(!_p(e.precondition,t))return n;var i=Mp(e.fieldTransforms,r,t),a=t.data;return a.setAll(Rp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _p(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dp(e,t){var n,r=null,i=Qr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dp(a.transform,o||null);null!=u&&(null===r&&(r=Qd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ap(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pp&&t instanceof pp||e instanceof yp&&t instanceof yp?Hf(e.elements,t.elements,Dd):e instanceof bp&&t instanceof bp?Dd(e._t,t._t):e instanceof vp&&t instanceof vp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Op=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Pn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ip),Pp=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Pn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ln(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ip);function Rp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Lp(e,t,n){var r=new Map;Af(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,hp(o,u,n[i]))}return r}function Mp(e,t,n){var r,i=new Map,a=Qr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Fp,jp,Vp=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ip),Bp=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ip),zp=function(){function e(t,n,r,i){Pn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ln(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Cp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Qr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Np(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Qr(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Np(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ep();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Tp(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Yf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ip())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,(function(e,t){return Ap(e,t)}))&&Hf(this.baseMutations,e.baseMutations,(function(e,t){return Ap(e,t)}))}}]),e}(),Up=function(){function e(t,n,r,i){Pn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ln(e,null,[{key:"from",value:function(t,n,r){Af(t.mutations.length===r.length);for(var i=np,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qp=function(){function e(t,n){Pn(this,e),this.largestBatchId=t,this.mutation=n}return Ln(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Kp=Ln((function e(t){Pn(this,e),this.count=t}));function Gp(e){switch(e){default:return Df();case Pf.CANCELLED:case Pf.UNKNOWN:case Pf.DEADLINE_EXCEEDED:case Pf.RESOURCE_EXHAUSTED:case Pf.INTERNAL:case Pf.UNAVAILABLE:case Pf.UNAUTHENTICATED:return!1;case Pf.INVALID_ARGUMENT:case Pf.NOT_FOUND:case Pf.ALREADY_EXISTS:case Pf.PERMISSION_DENIED:case Pf.FAILED_PRECONDITION:case Pf.ABORTED:case Pf.OUT_OF_RANGE:case Pf.UNIMPLEMENTED:case Pf.DATA_LOSS:return!0}}function Wp(e){if(void 0===e)return Tf("GRPC error has no .code"),Pf.UNKNOWN;switch(e){case Fp.OK:return Pf.OK;case Fp.CANCELLED:return Pf.CANCELLED;case Fp.UNKNOWN:return Pf.UNKNOWN;case Fp.DEADLINE_EXCEEDED:return Pf.DEADLINE_EXCEEDED;case Fp.RESOURCE_EXHAUSTED:return Pf.RESOURCE_EXHAUSTED;case Fp.INTERNAL:return Pf.INTERNAL;case Fp.UNAVAILABLE:return Pf.UNAVAILABLE;case Fp.UNAUTHENTICATED:return Pf.UNAUTHENTICATED;case Fp.INVALID_ARGUMENT:return Pf.INVALID_ARGUMENT;case Fp.NOT_FOUND:return Pf.NOT_FOUND;case Fp.ALREADY_EXISTS:return Pf.ALREADY_EXISTS;case Fp.PERMISSION_DENIED:return Pf.PERMISSION_DENIED;case Fp.FAILED_PRECONDITION:return Pf.FAILED_PRECONDITION;case Fp.ABORTED:return Pf.ABORTED;case Fp.OUT_OF_RANGE:return Pf.OUT_OF_RANGE;case Fp.UNIMPLEMENTED:return Pf.UNIMPLEMENTED;case Fp.DATA_LOSS:return Pf.DATA_LOSS;default:return Df()}}(jp=Fp||(Fp={}))[jp.OK=0]="OK",jp[jp.CANCELLED=1]="CANCELLED",jp[jp.UNKNOWN=2]="UNKNOWN",jp[jp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jp[jp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jp[jp.NOT_FOUND=5]="NOT_FOUND",jp[jp.ALREADY_EXISTS=6]="ALREADY_EXISTS",jp[jp.PERMISSION_DENIED=7]="PERMISSION_DENIED",jp[jp.UNAUTHENTICATED=16]="UNAUTHENTICATED",jp[jp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jp[jp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jp[jp.ABORTED=10]="ABORTED",jp[jp.OUT_OF_RANGE=11]="OUT_OF_RANGE",jp[jp.UNIMPLEMENTED=12]="UNIMPLEMENTED",jp[jp.INTERNAL=13]="INTERNAL",jp[jp.UNAVAILABLE=14]="UNAVAILABLE",jp[jp.DATA_LOSS=15]="DATA_LOSS";var Hp=function(){function e(){Pn(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Ln(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Qp}},{key:"getOrCreateInstance",value:function(){return null===Qp&&(Qp=new e),Qp}}]),e}(),Qp=null,$p=function(){function e(t,n,r,i,a){Pn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ln(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Yp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Yf.min(),i,op(),$v(),ip())}}]),e}(),Yp=function(){function e(t,n,r,i,a){Pn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ln(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ip(),ip(),ip())}}]),e}(),Xp=Ln((function e(t,n,r,i){Pn(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Jp=Ln((function e(t,n){Pn(this,e),this.targetId=t,this.Et=n})),Zp=Ln((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Pn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),em=function(){function e(){Pn(this,e),this.At=0,this.Rt=rm(),this.vt=yd.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return Ln(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=ip(),t=ip(),n=ip();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Df()}})),new Yp(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=rm()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),tm=function(){function e(t){Pn(this,e),this.Ft=t,this.Bt=new Map,this.Lt=$v(),this.qt=nm(),this.Ut=new hd(Wf)}return Ln(e,[{key:"Kt",value:function(e){var t,n=Qr(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Df()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(_v(a))if(0===r){var o=new th(a.path);this.Qt(n,o,Yd.newNoDocument(o,Yf.min()))}else Af(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Hp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&_v(a.target)){var o=new th(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Yd.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=ip();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new $p(e,n,this.Ut,this.Lt,r);return this.Lt=$v(),this.qt=nm(),this.Ut=new hd(Wf),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new em,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new hd(Wf),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||If("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new em),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function nm(){return new cd(th.comparator)}function rm(){return new cd(th.comparator)}var im={asc:"ASCENDING",desc:"DESCENDING"},am={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},om={and:"AND",or:"OR"},um=Ln((function e(t,n){Pn(this,e),this.databaseId=t,this.useProto3Json=n}));function sm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lm(e,t){return sm(e,t.toTimestamp())}function fm(e){return Af(!!e),Yf.fromTimestamp(function(e){var t=bd(e);return new $f(t.seconds,t.nanos)}(e))}function hm(e,t){return function(e){return new Jf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dm(e){var t=Jf.fromString(e);return Af(Mm(t)),t}function vm(e,t){return hm(e.databaseId,t.path)}function pm(e,t){var n=dm(t);if(n.get(1)!==e.databaseId.projectId)throw new Rf(Pf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rf(Pf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new th(bm(n))}function mm(e,t){return hm(e.databaseId,t)}function ym(e){var t=dm(e);return 4===t.length?Jf.emptyPath():bm(t)}function gm(e){return new Jf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bm(e){return Af(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function km(e,t,n){return{name:vm(e,t),fields:n.value.mapValue.fields}}function wm(e,t,n){var r=pm(e,t.name),i=fm(t.updateTime),a=t.createTime?fm(t.createTime):Yf.min(),o=new Qd({mapValue:{fields:t.fields}}),u=Yd.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function xm(e,t){return"found"in t?function(e,t){Af(!!t.found),t.found.name,t.found.updateTime;var n=pm(e,t.found.name),r=fm(t.found.updateTime),i=t.found.createTime?fm(t.found.createTime):Yf.min(),a=new Qd({mapValue:{fields:t.found.fields}});return Yd.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Af(!!t.missing),Af(!!t.readTime);var n=pm(e,t.missing),r=fm(t.readTime);return Yd.newNoDocument(n,r)}(e,t):Df()}function Em(e,t){var n;if(t instanceof Op)n={update:km(e,t.key,t.value)};else if(t instanceof Vp)n={delete:vm(e,t.key)};else if(t instanceof Pp)n={update:km(e,t.key,t.data),updateMask:Lm(t.fieldMask)};else{if(!(t instanceof Bp))return Df();n={verify:vm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof vp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bp)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Df()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Df()}(e,t.precondition)),n}function Sm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sp.updateTime(fm(e.updateTime)):void 0!==e.exists?Sp.exists(e.exists):Sp.none()}(t.currentDocument):Sp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Af("REQUEST_TIME"===t.setToServerValue),n=new vp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yp(i)}else"increment"in t?n=new bp(e,t.increment):Df();var a=eh.fromServerFormat(t.fieldPath);return new xp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=pm(e,t.update.name),a=new Qd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new pd(t.map((function(e){return eh.fromServerFormat(e)})))}(t.updateMask);return new Pp(i,a,o,n,r)}return new Op(i,a,n,r)}if(t.delete){var u=pm(e,t.delete);return new Vp(u,n)}if(t.verify){var s=pm(e,t.verify);return new Bp(s,n)}return Df()}function _m(e,t){return{documents:[mm(e,t.path)]}}function Im(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=mm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Rm(iv.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Om(e.field),direction:Nm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||Ch(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Tm(e){var t=ym(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Af(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Cm(e);return t instanceof iv&&uv(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ev(Pm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ch(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Xd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Xd(n,t)}(n.endAt)),Dv(t,i,u,o,s,"F",c,l)}function Cm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pm(e.unaryFilter.field);return rv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pm(e.unaryFilter.field);return rv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pm(e.unaryFilter.field);return rv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pm(e.unaryFilter.field);return rv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Df()}}(e):void 0!==e.fieldFilter?function(e){return rv.create(Pm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Df()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return iv.create(e.compositeFilter.filters.map((function(e){return Cm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Df()}}(e.compositeFilter.op))}(e):Df()}function Nm(e){return im[e]}function Dm(e){return am[e]}function Am(e){return om[e]}function Om(e){return{fieldPath:e.canonicalString()}}function Pm(e){return eh.fromServerFormat(e.fieldPath)}function Rm(e){return e instanceof rv?function(e){if("=="===e.op){if(Bd(e.value))return{unaryFilter:{field:Om(e.field),op:"IS_NAN"}};if(Vd(e.value))return{unaryFilter:{field:Om(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bd(e.value))return{unaryFilter:{field:Om(e.field),op:"IS_NOT_NAN"}};if(Vd(e.value))return{unaryFilter:{field:Om(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Om(e.field),op:Dm(e.op),value:e.value}}}(e):e instanceof iv?function(e){var t=e.getFilters().map((function(e){return Rm(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Am(e.op),filters:t}}}(e):Df()}function Lm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Mm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Fm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yd.EMPTY_BYTE_STRING;Pn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ln(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),jm=Ln((function e(t){Pn(this,e),this.se=t}));function Vm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:vm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sm(e,t.version.toTimestamp()),createTime:sm(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zm(t.version)};else{if(!t.isUnknownDocument())return Df();r.unknownDocument={path:n.path.toArray(),version:zm(t.version)}}return r}function Bm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Um(e){var t=new $f(e.seconds,e.nanoseconds);return Yf.fromTimestamp(t)}function qm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sm(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Sm(e.se,t)})),u=$f.fromMillis(t.localWriteTimeMs);return new zp(t.batchId,u,n,o)}function Km(e){var t,n,r=Um(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Um(e.lastLimboFreeSnapshotVersion):Yf.min();return void 0!==e.query.documents?(Af(1===(n=e.query).documents.length),t=Fv(Av(ym(n.documents[0])))):t=function(e){return Fv(Tm(e))}(e.query),new Fm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,yd.fromBase64String(e.resumeToken))}function Gm(e,t){var n,r=zm(t.snapshotVersion),i=zm(t.lastLimboFreeSnapshotVersion);n=_v(t.target)?_m(e.se,t.target):Im(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ev(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Wm(e){var t=Tm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vv(t,t.limit,"L"):t}function Hm(e,t){return new qp(t.largestBatchId,Sm(e.se,t.overlayMutation))}function Qm(e,t){var n=t.path.lastSegment();return[e,Ah(t.path.popLast()),n]}function $m(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:zm(r.readTime),documentKey:Ah(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ym=function(){function e(){Pn(this,e)}return Ln(e,[{key:"getBundleMetadata",value:function(e,t){return Xm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Um(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Xm(e).put({bundleId:(n=t).id,createTime:zm(fm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Jm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Wm(t.bundledQuery),readTime:Um(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Jm(e).put(function(e){return{name:e.name,readTime:zm(fm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Xm(e){return ad(e,"bundles")}function Jm(e){return ad(e,"namedQueries")}var Zm=function(){function e(t,n){Pn(this,e),this.serializer=t,this.userId=n}return Ln(e,[{key:"getOverlay",value:function(e,t){var n=this;return ey(e).get(Qm(this.userId,t)).next((function(e){return e?Hm(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zv();return ph.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new qp(t,a);i.push(r.re(e,o))})),ph.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ah(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(ey(e).J("collectionPathOverlayIndex",i))})),ph.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Zv(),a=Ah(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ey(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Qr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Hm(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Zv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ey(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Hm(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return ey(e).put(function(e,t,n){var r=v(Qm(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Em(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function ey(e){return ad(e,"documentOverlays")}var ty=function(){function e(){Pn(this,e)}return Ln(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(kd(e.integerValue));else if("doubleValue"in e){var n=kd(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Nh(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(wd(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?qd(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Df()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),th.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function ny(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ry(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ny(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ty.pe=new ty;var iy=function(){function e(){Pn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ln(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=Qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=Qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=ry(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=ry(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ay=function(){function e(t){Pn(this,e),this.Me=t}return Ln(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),oy=function(){function e(t){Pn(this,e),this.Me=t}return Ln(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),uy=function(){function e(){Pn(this,e),this.Me=new iy,this.Fe=new ay(this.Me),this.Be=new oy(this.Me)}return Ln(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),sy=function(){function e(t,n,r,i){Pn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ln(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function cy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ly(e.arrayValue,t.arrayValue))?n:0!==(n=ly(e.directionalValue,t.directionalValue))?n:th.comparator(e.documentKey,t.documentKey)}function ly(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var fy=function(){function e(t){Pn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=Qr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ln(e,[{key:"Qe",value:function(e){Af(e.collectionGroup===this.collectionId);var t=rh(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=ih(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Qr(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function hy(e){var t,n;if(Af(e instanceof rv||e instanceof iv),e instanceof rv){if(e instanceof gv){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return rv.create(e.field,"==",t)})))||[];return iv.create(r,"or")}return e}var i=e.filters.map((function(e){return hy(e)}));return iv.create(i,e.op)}function dy(e){if(0===e.getFilters().length)return[];var t=yy(hy(e));return Af(my(t)),vy(t)||py(t)?[t]:t.getFilters()}function vy(e){return e instanceof rv}function py(e){return e instanceof iv&&uv(e)}function my(e){return vy(e)||py(e)||function(e){if(e instanceof iv&&ov(e)){var t,n=Qr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!vy(r)&&!py(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function yy(e){if(Af(e instanceof rv||e instanceof iv),e instanceof rv)return e;if(1===e.filters.length)return yy(e.filters[0]);var t=e.filters.map((function(e){return yy(e)})),n=iv.create(t,e.op);return my(n=ky(n))?n:(Af(n instanceof iv),Af(av(n)),Af(n.filters.length>1),n.filters.reduce((function(e,t){return gy(e,t)})))}function gy(e,t){var n;return Af(e instanceof rv||e instanceof iv),Af(t instanceof rv||t instanceof iv),n=e instanceof rv?t instanceof rv?function(e,t){return iv.create([e,t],"and")}(e,t):by(e,t):t instanceof rv?by(t,e):function(e,t){if(Af(e.filters.length>0&&t.filters.length>0),av(e)&&av(t))return fv(e,t.getFilters());var n=ov(e)?e:t,r=ov(e)?t:e,i=n.filters.map((function(e){return gy(e,r)}));return iv.create(i,"or")}(e,t),ky(n)}function by(e,t){if(av(t))return fv(t,e.getFilters());var n=t.filters.map((function(t){return gy(e,t)}));return iv.create(n,"or")}function ky(e){if(Af(e instanceof rv||e instanceof iv),e instanceof rv)return e;var t=e.getFilters();if(1===t.length)return ky(t[0]);if(sv(e))return e;var n=t.map((function(e){return ky(e)})),r=[];return n.forEach((function(t){t instanceof rv?r.push(t):t instanceof iv&&(t.op===e.op?r.push.apply(r,On(t.filters)):r.push(t))})),1===r.length?r[0]:iv.create(r,e.op)}var wy=function(){function e(){Pn(this,e),this.He=new xy}return Ln(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),ph.resolve()}},{key:"getCollectionParents",value:function(e,t){return ph.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ph.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ph.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ph.resolve(null)}},{key:"getIndexType",value:function(e,t){return ph.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ph.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ph.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ph.resolve(ch.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ph.resolve(ch.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ph.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ph.resolve()}}]),e}(),xy=function(){function e(){Pn(this,e),this.index={}}return Ln(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hd(Jf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hd(Jf.comparator)).toArray()}}]),e}(),Ey=new Uint8Array(0),Sy=function(){function e(t,n){Pn(this,e),this.user=t,this.databaseId=n,this.Je=new xy,this.Ye=new Hv((function(e){return Ev(e)}),(function(e,t){return Sv(e,t)})),this.uid=t.uid||""}return Ln(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:Ah(i)};return _y(e).put(a)}return ph.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Qf(t),""],!1,!0);return _y(e).j(r).next((function(e){var r,i=Qr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Ty(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Cy(e);return a.next((function(e){o.put($m(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ty(e),r=Cy(e),i=Iy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Iy(e),i=!0,a=new Map;return ph.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ip(),o=[];return ph.forEach(a,(function(i,a){var u;If("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ev(t)));var s=function(e,t){var n=rh(t);if(void 0===n)return null;var r,i=Qr(Iv(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Qr(ih(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Qr(Iv(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Qr(ih(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Tv(e,o.fieldPath,e.startAt):Cv(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Xd(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Qr(ih(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Cv(e,o.fieldPath,e.endAt):Tv(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Xd(r,i)}(a,i),h=n.tn(i,a,l),d=n.tn(i,a,f),v=n.en(i,a,c),p=n.nn(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return ph.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=th.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ph.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:dy(iv.create(e.filters,"and")).map((function(t){return xv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.sn(t[h/c]):Ey,f=u.rn(e,s,n[h%c],r),d=u.on(e,s,i[h%c],a),v=o.map((function(t){return u.rn(e,s,t,!0)}));l.push.apply(l,On(u.createRange(f,d,v)))},h=0;h<s;++h)f();return l}},{key:"rn",value:function(e,t,n,r){var i=new sy(e,th.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new sy(e,th.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new fy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Qr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return ph.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new hd(eh.comparator),r=!1,i=Qr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Qr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Qr(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new uy,i=Qr(ih(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Le(a.kind);ty.pe.oe(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new uy;return ty.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new uy;return ty.pe.oe(Md(this.databaseId,t),n.Le(function(e){var t=ih(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new uy);var i,a=0,o=Qr(ih(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Qr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&jd(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);ty.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=On(e),a=[],o=Qr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Qr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new uy;f.seed(l.$e()),ty.pe.oe(s,f.Le(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof rv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ty(e),i=Cy(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return ph.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new oh(t.sequenceNumber,new ch(Um(t.readTime),new th(Rh(t.documentKey)),t.largestBatchId)):oh.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new ah(eh.fromServerFormat(n),r)}));return new nh(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Wf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ty(e),a=Cy(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ph.forEach(t,(function(t){return a.put($m(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ph.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ph.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ph.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?ph.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return Iy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return Iy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=Iy(e),i=new hd(cy);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new sy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new hd(cy),r=this.un(t,e);if(null==r)return n;var i=rh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(jd(a)){var o,u=Qr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new sy(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new sy(t.indexId,e.key,Ey,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;If("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=vd(a),s=vd(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=vd(o)):l?(i(u),u=vd(a)):(u=vd(a),s=vd(o))}}(r,i,cy,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),ph.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Cy(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return cy(e,t)})).filter((function(e,t,n){return!t||0!==cy(e,n[t-1])}));var r=[];r.push(e);var i,a=Qr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=cy(o,e),s=cy(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ey,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ey,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return cy(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ny)}},{key:"getMinOffset",value:function(e,t){var n=this;return ph.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||Df()}))})).next(Ny)}}]),e}();function _y(e){return ad(e,"collectionParents")}function Iy(e){return ad(e,"indexEntries")}function Ty(e){return ad(e,"indexConfiguration")}function Cy(e){return ad(e,"indexState")}function Ny(e){Af(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ch(t.readTime,t.documentKey,n)}var Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ay=function(){function e(t,n,r){Pn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ln(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Oy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Af(1===u)})));var c,l=[],f=Qr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Fh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return ph.waitFor(a).next((function(){return l}))}function Py(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Df();t=e.noDocument}return JSON.stringify(t).length}Ay.DEFAULT_COLLECTION_PERCENTILE=10,Ay.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ay.DEFAULT=new Ay(41943040,Ay.DEFAULT_COLLECTION_PERCENTILE,Ay.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ay.DISABLED=new Ay(-1,0,0);var Ry=function(){function e(t,n,r,i){Pn(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return Ln(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return My(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Fy(e),o=My(e);return o.add({}).next((function(u){Af("number"==typeof u);var s,c=new zp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Em(e.se,t)})),i=n.mutations.map((function(t){return Em(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new hd((function(e,t){return Wf(e.canonicalString(),t.canonicalString())})),d=Qr(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=Fh(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,jh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[u]=c.keys()})),ph.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return My(e).get(t).next((function(e){return e?(Af(e.userId===n.userId),qm(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?ph.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return My(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Af(t.batchId>=r),a=qm(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return My(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return My(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return qm(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Mh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Fy(e).Z({range:i},(function(r,i,o){var u=v(r,3),s=u[0],c=u[1],l=u[2],f=Rh(c);if(s===n.userId&&t.path.isEqual(f))return My(e).get(l).next((function(e){if(!e)throw Df();Af(e.userId===n.userId),a.push(qm(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hd(Wf),i=[];return t.forEach((function(t){var a=Mh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Fy(e).Z({range:o},(function(e,i,a){var o=v(e,3),u=o[0],s=o[1],c=o[2],l=Rh(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ph.waitFor(i).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Mh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new hd(Wf);return Fy(e).Z({range:o},(function(e,t,a){var o=v(e,3),s=o[0],c=o[1],l=o[2],f=Rh(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Tn(e,u)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(My(e).get(t).next((function(e){if(null===e)throw Df();Af(e.userId===n.userId),r.push(qm(n.serializer,e))})))})),ph.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Oy(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),ph.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ph.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Fy(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rh(e[1]);i.push(a)}else r.done()})).next((function(){Af(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ly(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return jy(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return Af(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ly(e,t,n){var r=Mh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Fy(e).Z({range:a,Y:!0},(function(e,n,r){var a=v(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function My(e){return ad(e,"mutations")}function Fy(e){return ad(e,"documentMutations")}function jy(e){return ad(e,"mutationQueues")}var Vy=function(){function e(t){Pn(this,e),this.Rn=t}return Ln(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),By=function(){function e(t,n){Pn(this,e),this.referenceDelegate=t,this.serializer=n}return Ln(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new Vy(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return Yf.fromTimestamp(new $f(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return zy(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return Af(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return zy(e).Z((function(o,u){var s=Km(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ph.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return zy(e).Z((function(e,n){var r=Km(n);t(r)}))}},{key:"Pn",value:function(e){return Uy(e).get("targetGlobalKey").next((function(e){return Af(null!==e),e}))}},{key:"Vn",value:function(e,t){return Uy(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return zy(e).put(Gm(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ev(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return zy(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Km(n);Sv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=qy(e);return t.forEach((function(t){var o=Ah(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ph.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=qy(e);return ph.forEach(t,(function(t){var a=Ah(t.path);return ph.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=qy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qy(e),i=ip();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Rh(e[1]),a=new th(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ah(t.path),r=IDBKeyRange.bound([n],[Qf(n)],!1,!0),i=0;return qy(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return zy(e).get(t).next((function(e){return e?Km(e):null}))}}]),e}();function zy(e){return ad(e,"targets")}function Uy(e){return ad(e,"targetGlobal")}function qy(e){return ad(e,"targetDocuments")}function Ky(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],u=a[1],s=Wf(r,o);return 0===s?Wf(i,u):s}var Gy=function(){function e(t){Pn(this,e),this.Cn=t,this.buffer=new hd(Ky),this.xn=0}return Ln(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ky(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Wy=function(){function e(t,n,r){Pn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Ln(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;If("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!kh(e.t0)){e.next=12;break}If("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,dh(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Hy=function(){function e(t,n){Pn(this,e),this.Mn=t,this.params=n}return Ln(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ph.resolve(Th.ct);var r=new Gy(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(If("LruGarbageCollector","Garbage collection skipped; disabled"),ph.resolve(Dy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(If("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Dy):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(If("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_f()<=Za.DEBUG&&If("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ph.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Qy=function(){function e(t,n){Pn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Hy(e,t)}(this,n)}return Ln(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $y(e,n)}},{key:"removeReference",value:function(e,t,n){return $y(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $y(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return jy(e).X((function(r){return Ly(e,r,t).next((function(e){return e&&(n=!0),ph.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,u){if(u<=t){var s=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Yf.min()),qy(e).delete([0,Ah(o.path)])}))}));i.push(s)}})).next((function(){return ph.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $y(e,t)}},{key:"Un",value:function(e,t){var n,r=qy(e),i=Th.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Th.ct&&t(new th(Rh(n)),i),i=s,n=u):i=Th.ct})).next((function(){i!==Th.ct&&t(new th(Rh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $y(e,t){return qy(e).put(function(e,t){return{targetId:0,path:Ah(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Yy=function(){function e(){Pn(this,e),this.changes=new Hv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ln(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Yd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ph.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Xy=function(){function e(t){Pn(this,e),this.serializer=t}return Ln(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return tg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return tg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Bm(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Yd.newInvalidDocument(t);return tg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ng(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Yd.newInvalidDocument(t)};return tg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ng(t))},(function(e,i){r={document:n.Qn(t,i),size:Py(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=$v(),i=new cd(th.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,Py(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return ph.resolve();var r=new hd(ig);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ng(r.first()),ng(r.last())),a=r.getIterator(),o=a.getNext();return tg(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=th.fromSegments([].concat(On(t.prefixPath),[t.collectionGroup,t.documentId]));o&&ig(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(ng(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Bm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tg(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=$v(),o=Qr(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Qn(th.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(qv(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=$v(),o=rg(t,n),u=rg(t,ch.max());return tg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Qn(th.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Zy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return eg(e).get("remoteDocumentGlobalKey").next((function(e){return Af(!!e),e}))}},{key:"Gn",value:function(e,t){return eg(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=wm(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=th.fromSegments(t.noDocument.path),i=Um(t.noDocument.readTime);n=Yd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Df();var a=th.fromSegments(t.unknownDocument.path),o=Um(t.unknownDocument.version);n=Yd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new $f(e[0],e[1]);return Yf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Yf.min()))return n}return Yd.newInvalidDocument(e)}}]),e}();function Jy(e){return new Xy(e)}var Zy=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new Hv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ln(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hd((function(e,t){return Wf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Vm(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=Py(s);r+=c-u.size,n.push(t.Jn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Vm(t.Jn.serializer,o.convertToNoDocument(Yf.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),ph.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Yy);function eg(e){return ad(e,"remoteDocumentGlobal")}function tg(e){return ad(e,"remoteDocumentsV14")}function ng(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rg(e,t){var n=t.documentKey.path.toArray();return[e,Bm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ig(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Wf(n[a],r[a]))return i;return(i=Wf(n.length,r.length))||((i=Wf(n[n.length-2],r[r.length-2]))||Wf(n[n.length-1],r[r.length-1]))}var ag=Ln((function e(t,n){Pn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),og=function(){function e(t,n,r,i){Pn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ln(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Np(r.mutation,e,pd.empty(),$f.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ip()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ip(),i=Zv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Xv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Zv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ip())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$v(),a=tp(),o=tp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Np(o.mutation,t,o.mutation.getFieldMask(),$f.now())):a.set(t.key,pd.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ag(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=tp(),i=new cd((function(e,t){return e-t})),a=ip();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Qr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||pd.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ip()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=ep();c.forEach((function(e){if(!a.has(e)){var n=Tp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ph.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ph.resolve(Zv()),u=-1,s=a;return o.next((function(t){return ph.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ph.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ip())})).next((function(e){return{batchId:u,changes:Jv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new th(t)).next((function(e){var t=Xv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xv();return this.indexManager.getCollectionParents(e,i).next((function(o){return ph.forEach(o,(function(o){var u=function(e,t){return new Nv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yd.newInvalidDocument(r)))}));var n=Xv();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Np(a.mutation,i,pd.empty(),$f.now()),qv(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ug=function(){function e(t){Pn(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return Ln(e,[{key:"getBundleMetadata",value:function(e,t){return ph.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:fm(n.createTime)}),ph.resolve()}},{key:"getNamedQuery",value:function(e,t){return ph.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Wm(e.bundledQuery),readTime:fm(e.readTime)}}(t)),ph.resolve()}}]),e}(),sg=function(){function e(){Pn(this,e),this.overlays=new cd(th.comparator),this.ts=new Map}return Ln(e,[{key:"getOverlay",value:function(e,t){return ph.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zv();return ph.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),ph.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),ph.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zv(),i=t.length+1,a=new th(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ph.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cd((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Zv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Zv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ph.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qp(t,n));var a=this.ts.get(t);void 0===a&&(a=ip(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),cg=function(){function e(){Pn(this,e),this.es=new hd(lg.ns),this.ss=new hd(lg.rs)}return Ln(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lg(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new lg(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new th(new Jf([])),r=new lg(n,e),i=new lg(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new th(new Jf([])),n=new lg(t,e),r=new lg(t,e+1),i=ip();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lg(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lg=function(){function e(t,n){Pn(this,e),this.key=t,this.ds=n}return Ln(e,null,[{key:"ns",value:function(e,t){return th.comparator(e.key,t.key)||Wf(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Wf(e.ds,t.ds)||th.comparator(e.key,t.key)}}]),e}(),fg=function(){function e(t,n){Pn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new hd(lg.ns)}return Ln(e,[{key:"checkEmpty",value:function(e){return ph.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new zp(i,t,n,r);this.mutationQueue.push(a);var o,u=Qr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new lg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ph.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ph.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return ph.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ph.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ph.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lg(t,0),i=new lg(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),ph.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hd(Wf);return t.forEach((function(e){var t=new lg(e,0),i=new lg(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),ph.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;th.isDocumentKey(i)||(i=i.child(""));var a=new lg(new th(i),0),o=new hd(Wf);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),ph.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Af(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return ph.forEach(t.mutations,(function(i){var a=new lg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lg(t,0),r=this._s.firstAfterOrEqual(n);return ph.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ph.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),hg=function(){function e(t){Pn(this,e),this.Ts=t,this.docs=new cd(th.comparator),this.size=0}return Ln(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ph.resolve(n?n.document.mutableCopy():Yd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Yd.newInvalidDocument(e))})),ph.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=$v(),a=t.path,o=new th(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||lh(sh(l),n)<=0||(r.has(l.key)||qv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ph.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Df()}},{key:"Es",value:function(e,t){return ph.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dg(this)}},{key:"getSize",value:function(e){return ph.resolve(this.size)}}]),e}(),dg=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).Jn=e,r}return Ln(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),ph.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Yy),vg=function(){function e(t){Pn(this,e),this.persistence=t,this.As=new Hv((function(e){return Ev(e)}),Sv),this.lastRemoteSnapshotVersion=Yf.min(),this.highestTargetId=0,this.Rs=0,this.vs=new cg,this.targetCount=0,this.bs=Vy.vn()}return Ln(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),ph.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ph.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ph.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),ph.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),ph.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Vy(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,ph.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),ph.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ph.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ph.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ph.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return ph.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),ph.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ph.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),ph.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return ph.resolve(n)}},{key:"containsKey",value:function(e,t){return ph.resolve(this.vs.containsKey(t))}}]),e}(),pg=function(){function e(t,n){var r=this;Pn(this,e),this.Ps={},this.overlays={},this.Vs=new Th(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new vg(this),this.indexManager=new wy,this.remoteDocumentCache=new hg((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new jm(n),this.xs=new ug(this.serializer)}return Ln(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sg,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new fg(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;If("MemoryPersistence","Starting transaction:",e);var i=new mg(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return ph.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mg=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ln(n)}(hh),yg=function(){function e(t){Pn(this,e),this.persistence=t,this.$s=new cg,this.Ms=null}return Ln(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Df()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),ph.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),ph.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),ph.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ph.forEach(this.Bs,(function(r){var i=th.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Yf.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return ph.or([function(){return ph.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),gg=function(){function e(t){Pn(this,e),this.serializer=t}return Ln(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new mh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lh,{unique:!0}),e.createObjectStore("documentMutations")}(e),bg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ph.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ph.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Yh});t.createIndex("collectionPathOverlayIndex",Xh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Vh});t.createIndex("documentKeyIndex",Bh),t.createIndex("collectionGroupIndex",zh)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Wh}).createIndex("sequenceNumberIndex",Hh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qh}).createIndex("documentKeyIndex",$h,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Py(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return ph.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return ph.forEach(r,(function(r){Af(r.userId===n.userId);var i=qm(t.serializer,r);return Oy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Jf(n),o=function(e){return[0,Ah(e)]}(a);r.push(t.get(o).next((function(n){return n?ph.resolve():function(n){return t.put({targetId:0,path:Ah(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ph.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Gh});var n=t.store("collectionParents"),r=new xy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ah(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Jf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],Rh(r));return i(a.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Km(r),a=Gm(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new th(Jf.fromString(i.document.name).popFirst(5)):i.noDocument?th.fromSegments(i.noDocument.path):i.unknownDocument?th.fromSegments(i.unknownDocument.path):Df()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ph.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=Jy(this.serializer),a=new pg(yg.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ip();qm(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ph.forEach(r,(function(e,r){var o=new xf(r),u=Zm.ie(n.serializer,o),s=a.getIndexManager(o),c=Ry.ie(o,n.serializer,s,a.referenceDelegate);return new og(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new id(t,Th.ct),e).next()}))}))}}]),e}();function bg(e){e.createObjectStore("targetDocuments",{keyPath:qh}).createIndex("documentTargetsIndex",Kh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uh,{unique:!0}),e.createObjectStore("targetGlobal")}var kg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Pn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=u,this.Hs=c,this.Js=l,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new Rf(Pf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qy(this,i),this.si=n+"main",this.serializer=new jm(s),this.ii=new yh(this.si,this.Ys,new gg(this.serializer)),this.Ds=new By(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Jy(this.serializer),this.xs=new Ym,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===l&&Tf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ln(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rf(Pf.FAILED_PRECONDITION,kg);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new Th(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=Ea(wa().mark((function n(r){return wa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=Ea(wa().mark((function t(n){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Eg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(kh(t))return If("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return If("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return xg(e).get("owner").next((function(e){return ph.resolve(t._i(e))}))}},{key:"mi",value:function(e){return Eg(e).delete(this.clientId)}},{key:"gi",value:function(){var e=Ea(wa().mark((function e(){var t,n,r,i,a=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ad(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ph.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=Qr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?ph.resolve(!0):xg(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new Rf(Pf.FAILED_PRECONDITION,kg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Eg(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&If("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ea(wa().mark((function e(){var t=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new id(e,Th.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Eg(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return Ry.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Sy(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Zm.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;If("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Ys)?rd:14===i?nd:13===i?td:12===i?ed:11===i?Zh:void Df();return this.ii.runTransaction(e,o,u,(function(i){return a=new id(i,r.Vs?r.Vs.next():Th.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw Tf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new Rf(Pf.FAILED_PRECONDITION,fh);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return xg(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Rf(Pf.FAILED_PRECONDITION,kg)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xg(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=xg(e);return n.get("owner").next((function(e){return t._i(e)?(If("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ph.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Tf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;Ma()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return If("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Tf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(Du){Tf("Failed to set zombie client id.",Du)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(Du){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return yh.D()}}]),e}();function xg(e){return ad(e,"owner")}function Eg(e){return ad(e,"clientMetadata")}function Sg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _g=function(){function e(t,n,r,i){Pn(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return Ln(e,null,[{key:"Di",value:function(t,n){var r,i=ip(),a=ip(),o=Qr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ig=function(){function e(){Pn(this,e),this.Ci=!1}return Ln(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Ov(t))return ph.resolve(null);var r=Fv(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Vv(t,null,"F"),r=Fv(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ip.apply(void 0,On(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Vv(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Ov(t)||r.isEqual(Yf.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(_f()<=Za.DEBUG&&If("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uv(t)),i.Fi(e,o,t,uh(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new hd(Gv(e));return t.forEach((function(t,r){qv(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return _f()<=Za.DEBUG&&If("QueryEngine","Using full collection scan to execute query:",Uv(t)),this.xi.getDocumentsMatchingQuery(e,t,ch.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Tg=function(){function e(t,n,r,i){Pn(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new cd(Wf),this.qi=new Hv((function(e){return Ev(e)}),Sv),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return Ln(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new og(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Cg(e,t,n,r){return new Tg(e,t,n,r)}function Ng(e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=Ea(wa().mark((function e(t,n){var r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ip(),s=Qr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Qr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=Qr(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=Qr(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}function Ag(e,t){var n=Of(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ph.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Af(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ip(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Og(e){var t=Of(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function Pg(e,t){var n=Of(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(yd.EMPTY_BYTE_STRING,Yf.min()).withLastLimboFreeSnapshotVersion(Yf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=$v(),s=ip();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Rg(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(Yf.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ph.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function Rg(e,t,n){var r=ip(),i=ip();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$v();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):If("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function Lg(e,t){var n=Of(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Mg(e,t){var n=Of(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,ph.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Fm(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Fg(e,t,n){return jg.apply(this,arguments)}function jg(){return jg=Ea(wa().mark((function e(t,n,r){var i,a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Of(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),kh(e.t1)){e.next=12;break}throw e.t1;case 12:If("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),jg.apply(this,arguments)}function Vg(e,t,n){var r=Of(e),i=Yf.min(),a=ip();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Of(e),i=r.qi.get(n);return void 0!==i?ph.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Fv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Yf.min(),n?a:ip())})).next((function(e){return Ug(r,Kv(t),e),{documents:e,Wi:a}}))}))}function Bg(e,t){var n=Of(e),r=Of(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function zg(e,t){var n=Of(e),r=n.Ui.get(t)||Yf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,uh(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ug(n,t,e),e}))}function Ug(e,t,n){var r=e.Ui.get(t)||Yf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function qg(e,t,n,r){return Kg.apply(this,arguments)}function Kg(){return Kg=Ea(wa().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Of(t),o=ip(),u=$v(),s=Qr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,Mg(a,function(e){return Fv(Av(Jf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Rg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=Ea(wa().mark((function e(t,n){var r,i,a,o=arguments;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ip(),e.next=3,Mg(t,Fv(Wm(n.bundledQuery)));case 3:return i=e.sent,a=Of(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(yd.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Qg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function $g(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Yg=function(){function e(t,n,r,i){Pn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ln(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Rf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Tf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Xg=function(){function e(t,n,r){Pn(this,e),this.targetId=t,this.state=n,this.error=r}return Ln(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Rf(i.error.code,i.error.message))),a?new e(t,i.state,r):(Tf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Jg=function(){function e(t,n){Pn(this,e),this.clientId=t,this.activeTargetIds=n}return Ln(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=op(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Tf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Zg=function(){function e(t,n){Pn(this,e),this.clientId=t,this.onlineState=n}return Ln(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Tf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),eb=function(){function e(){Pn(this,e),this.activeTargetIds=op()}return Ln(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),tb=function(){function e(t,n,r,i,a){Pn(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new cd(Wf),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=Hg(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new eb),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return Ln(e,[{key:"start",value:function(){var e=Ea(wa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=Qr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Hg(this.persistenceKey,i)))&&(o=Jg.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=Qr(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem($g(this.persistenceKey,e));if(n){var r=Xg.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem($g(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return If("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){If("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){If("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(If("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void Tf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Ea(wa().mark((function e(){var r,i,a,o,u,s,c;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Th.ct;if(null!=e)try{var n=JSON.parse(e);Af("number"==typeof n),t=n}catch(e){Tf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Th.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new Yg(this.currentUser,e,t,n),i=Qg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=Qg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=$g(this.persistenceKey,e),i=new Xg(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return Jg.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yg.Zi(new xf(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return Xg.Zi(r,t)}},{key:"gr",value:function(e){return Zg.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:If("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=op();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),nb=function(){function e(){Pn(this,e),this.Br=new eb,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ln(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new eb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),rb=function(){function e(){Pn(this,e)}return Ln(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ib=function(){function e(){var t=this;Pn(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return Ln(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){If("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Qr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){If("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Qr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ab=null;function ob(){return null===ab?ab=268435456+Math.round(2147483648*Math.random()):ab++,"0x"+ab.toString(16)}var ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},sb=function(){function e(t){Pn(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return Ln(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),cb="WebChannelConnection",lb=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ln(n,[{key:"lo",value:function(e,t,n,r){var i=ob();return new Promise((function(a,o){var u=new kf;u.setWithCredentials(!0),u.listenOnce(pf.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case vf.NO_ERROR:var t=u.getResponseJson();If(cb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case vf.TIMEOUT:If(cb,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Rf(Pf.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:var n=u.getStatus();if(If(cb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pf).indexOf(t)>=0?t:Pf.UNKNOWN}(s.status);o(new Rf(c,s.message))}else o(new Rf(Pf.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Rf(Pf.UNAVAILABLE,"Connection failed."));break;default:Df()}}finally{If(cb,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);If(cb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=ob(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hf(),o=df(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new gf({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");If(cb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new sb({Wr:function(t){f?If(cb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(If(cb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),If(cb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,bf.EventType.OPEN,(function(){f||If(cb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,bf.EventType.CLOSE,(function(){f||(f=!0,If(cb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,bf.EventType.ERROR,(function(t){f||(f=!0,Cf(cb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new Rf(Pf.UNAVAILABLE,"The operation could not be completed")))})),d(c,bf.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Af(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){If(cb,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Fp[e];if(void 0!==t)return Wp(t)}(u),l=o.message;void 0===s&&(s=Pf.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new Rf(s,l)),c.close()}else If(cb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,mf.STAT_EVENT,(function(t){t.stat===yf.PROXY?If(cb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===yf.NOPROXY&&If(cb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){Pn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ln(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=ob(),o=this.ao(e,t);If("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return If("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Cf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ef,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=ub[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function fb(){return"undefined"!=typeof window?window:null}function hb(){return"undefined"!=typeof document?document:null}function db(e){return new um(e,!0)}var vb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Pn(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Ln(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&If("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),pb=function(){function e(t,n,r,i,a,o,u,s){Pn(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new vb(t,n)}return Ln(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Ea(wa().mark((function e(t,n){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===Pf.RESOURCE_EXHAUSTED?(Tf(n.toString()),Tf("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===Pf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new Rf(Pf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return If("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(If("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),mb=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a,o,u){var s;return Pn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Ln(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Df()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Af(void 0===t||"string"==typeof t),yd.fromBase64String(t||"")):(Af(void 0===t||t instanceof Uint8Array),yd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Pf.UNKNOWN:Wp(e.code);return new Rf(t,e.message||"")}(o);n=new Zp(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=pm(e,s.document.name),l=fm(s.document.updateTime),f=s.document.createTime?fm(s.document.createTime):Yf.min(),h=new Qd({mapValue:{fields:s.document.fields}}),d=Yd.newFoundDocument(c,l,f,h),v=s.targetIds||[],p=s.removedTargetIds||[];n=new Xp(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=pm(e,m.document),g=m.readTime?fm(m.readTime):Yf.min(),b=Yd.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Xp([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=pm(e,w.document),E=w.removedTargetIds||[];n=new Xp([],E,x,null)}else{if(!("filter"in t))return Df();t.filter;var S=t.filter;S.targetId;var _=S.count||0,I=new Kp(_),T=S.targetId;n=new Jp(T,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Yf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yf.min():t.readTime?fm(t.readTime):Yf.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=gm(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=_v(r)?{documents:_m(e,r)}:{query:Im(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cm(e,t.resumeToken):t.snapshotVersion.compareTo(Yf.min())>0&&(n.readTime=sm(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Df()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=gm(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(pb),yb=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a,o,u){var s;return Pn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return Ln(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,xr(wr(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Af(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Af(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fm(e.updateTime):fm(t);return n.isEqual(Yf.min())&&(n=fm(t)),new Ep(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fm(e.commitTime);return this.listener.Zo(n,t)}return Af(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=gm(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Em(t.serializer,e)}))};this.Fo(n)}}]),n}(pb),gb=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a){var o;return Pn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return Ln(n,[{key:"nu",value:function(){if(this.eu)throw new Rf(Pf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.connection.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Rf(Pf.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=v(a,2),u=o[0],s=o[1];return i.connection.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Rf(Pf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return Ln((function e(){Pn(this,e)}))}());var bb=function(){function e(t,n){Pn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return Ln(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Tf(t),this.ru=!1):If("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),kb=Ln((function e(t,n,r,i,a){var o=this;Pn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ab(o),!e.t0){e.next=5;break}return If("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Of(t)).du.add(4),e.next=4,Eb(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,wb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new bb(r,i)}));function wb(e){return xb.apply(this,arguments)}function xb(){return xb=Ea(wa().mark((function e(t){var n,r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ab(t)){e.next=18;break}n=Qr(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xb.apply(this,arguments)}function Eb(e){return Sb.apply(this,arguments)}function Sb(){return Sb=Ea(wa().mark((function e(t){var n,r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qr(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Sb.apply(this,arguments)}function _b(e,t){var n=Of(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Db(n)?Nb(n):ok(n).No()&&Tb(n,t))}function Ib(e,t){var n=Of(e),r=ok(n);n.fu.delete(t),r.No()&&Cb(n,t),0===n.fu.size&&(r.No()?r.$o():Ab(n)&&n.mu.set("Unknown"))}function Tb(e,t){e.gu.Ot(t.targetId),ok(e).jo(t)}function Cb(e,t){e.gu.Ot(t),ok(e).Wo(t)}function Nb(e){e.gu=new tm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),ok(e).start(),e.mu.ou()}function Db(e){return Ab(e)&&!ok(e).xo()&&e.fu.size>0}function Ab(e){return 0===Of(e).du.size}function Ob(e){e.gu=void 0}function Pb(e){return Rb.apply(this,arguments)}function Rb(){return Rb=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Tb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Lb(e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=Ea(wa().mark((function e(t,n){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ob(t),Db(t)?(t.mu.au(n),Nb(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Fb(e,t,n){return jb.apply(this,arguments)}function jb(){return jb=Ea(wa().mark((function e(t,n,r){var i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof Zp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ea(wa().mark((function e(t,n){var r,i,a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Qr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),If("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xp?t.gu.Kt(n):n instanceof Jp?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Yf.min())){e.next=29;break}return e.prev=14,e.next=17,Og(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(yd.EMPTY_BYTE_STRING,n.snapshotVersion)),Cb(e,t);var r=new Fm(n.target,t,1,n.sequenceNumber);Tb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),If("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jb.apply(this,arguments)}function Vb(e,t,n){return Bb.apply(this,arguments)}function Bb(){return Bb=Ea(wa().mark((function e(t,n,r){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kh(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,Eb(t);case 5:t.mu.set("Offline"),r||(r=function(){return Og(t.localStore)}),t.asyncQueue.enqueueRetryable(Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,wb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function zb(e,t){return t().catch((function(n){return Vb(e,n,t)}))}function Ub(e){return qb.apply(this,arguments)}function qb(){return qb=Ea(wa().mark((function e(t){var n,r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Of(t),r=uk(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!Kb(n)){e.next=19;break}return e.prev=3,e.next=6,Lg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Gb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vb(n,e.t0);case 17:e.next=2;break;case 19:Wb(n)&&Hb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qb.apply(this,arguments)}function Kb(e){return Ab(e)&&e.lu.length<10}function Gb(e,t){e.lu.push(t);var n=uk(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Wb(e){return Ab(e)&&!uk(e).xo()&&e.lu.length>0}function Hb(e){uk(e).start()}function Qb(e){return $b.apply(this,arguments)}function $b(){return $b=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uk(t).tu();case 1:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function Yb(e){return Xb.apply(this,arguments)}function Xb(){return Xb=Ea(wa().mark((function e(t){var n,r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uk(t),r=Qr(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function Jb(e,t,n){return Zb.apply(this,arguments)}function Zb(){return Zb=Ea(wa().mark((function e(t,n,r){var i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Up.from(i,n,r),e.next=3,zb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ub(t);case 5:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return tk=Ea(wa().mark((function e(t,n){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&uk(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gp(i=n.code)||i===Pf.ABORTED){e.next=7;break}return r=t.lu.shift(),uk(t).Oo(),e.next=5,zb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ub(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Wb(t)&&Hb(t);case 5:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Of(t)).asyncQueue.verifyOperationInProgress(),If("RemoteStore","RemoteStore received new credentials"),i=Ab(r),r.du.add(3),e.next=6,Eb(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,wb(r);case 12:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=Ea(wa().mark((function e(t,n){var r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Of(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,wb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,Eb(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e){return e.yu||(e.yu=function(e,t,n){var r=Of(e);return r.nu(),new mb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Pb.bind(null,e),Zr:Lb.bind(null,e),zo:Fb.bind(null,e)}),e.wu.push(function(){var t=Ea(wa().mark((function t(n){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Db(e)?Nb(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Ob(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function uk(e){return e.pu||(e.pu=function(e,t,n){var r=Of(e);return r.nu(),new yb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Qb.bind(null,e),Zr:ek.bind(null,e),Xo:Yb.bind(null,e),Zo:Jb.bind(null,e)}),e.wu.push(function(){var t=Ea(wa().mark((function t(n){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,Ub(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(If("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var sk=function(){function e(t,n,r,i,a){Pn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ln(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rf(Pf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ck(e,t){if(Tf("AsyncQueue","".concat(t,": ").concat(e)),kh(e))return new Rf(Pf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lk=function(){function e(t){Pn(this,e),this.comparator=t?function(e,n){return t(e,n)||th.comparator(e.key,n.key)}:function(e,t){return th.comparator(e.key,t.key)},this.keyedMap=Xv(),this.sortedSet=new cd(this.comparator)}return Ln(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fk=function(){function e(){Pn(this,e),this.Iu=new cd(th.comparator)}return Ln(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Df():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hk=function(){function e(t,n,r,i,a,o,u,s,c){Pn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Ln(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,lk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),dk=Ln((function e(){Pn(this,e),this.Eu=void 0,this.listeners=[]})),vk=Ln((function e(){Pn(this,e),this.queries=new Hv((function(e){return zv(e)}),Bv),this.onlineState="Unknown",this.Au=new Set}));function pk(e,t){return mk.apply(this,arguments)}function mk(){return mk=Ea(wa().mark((function e(t,n){var r,i,a,o,u;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Of(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new dk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ck(e.t0,"Initialization of query '".concat(Uv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&wk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),mk.apply(this,arguments)}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=Ea(wa().mark((function e(t,n){var r,i,a,o,u;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Of(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function bk(e,t){var n,r=Of(e),i=!1,a=Qr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Qr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&wk(r)}function kk(e,t,n){var r=Of(e),i=r.queries.get(t);if(i){var a,o=Qr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function wk(e){e.Au.forEach((function(e){e.next()}))}var xk=function(){function e(t,n,r){Pn(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Ln(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Qr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=hk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),Ek=function(){function e(t,n){Pn(this,e),this.Nu=t,this.byteLength=n}return Ln(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),Sk=function(){function e(t){Pn(this,e),this.serializer=t}return Ln(e,[{key:"Hi",value:function(e){return pm(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?wm(this.serializer,e.document,!1):Yd.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return fm(e)}}]),e}(),_k=function(){function e(t,n,r){Pn(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ik(t)}return Ln(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=Jf.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new Sk(this.serializer),i=Qr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hi(a.metadata.name),s=Qr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ip()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ea(wa().mark((function e(){var t,n,r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qg(this.localStore,new Sk(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=Qr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Gg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ik(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Tk=Ln((function e(t){Pn(this,e),this.key=t})),Ck=Ln((function e(t){Pn(this,e),this.key=t})),Nk=function(){function e(t,n){Pn(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ip(),this.mutatedKeys=ip(),this.Ku=Gv(t),this.Gu=new lk(this.Ku)}return Ln(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new fk,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Df()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new hk(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new fk,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=ip(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Ck(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new Tk(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=ip();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return hk.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Dk=Ln((function e(t,n,r){Pn(this,e),this.query=t,this.targetId=n,this.view=r})),Ak=Ln((function e(t){Pn(this,e),this.key=t,this.ec=!1})),Ok=function(){function e(t,n,r,i,a,o){Pn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Hv((function(e){return zv(e)}),Bv),this.ic=new Map,this.rc=new Set,this.oc=new cd(th.comparator),this.uc=new Map,this.cc=new cg,this.ac={},this.hc=new Map,this.lc=Vy.bn(),this.onlineState="Unknown",this.fc=void 0}return Ln(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Pk(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=Ea(wa().mark((function e(t,n){var r,i,a,o,u,s;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Iw(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Mg(r.localStore,Fv(n));case 8:return u=e.sent,r.isPrimaryClient&&_b(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Lk(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Lk(e,t,n,r,i){return Mk.apply(this,arguments)}function Mk(){return Mk=Ea(wa().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Ea(wa().mark((function e(t,n,r,i){var a,o,u;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Vg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nw(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Vg(t.localStore,n,!0);case 3:return o=e.sent,u=new Nk(n,o.Wi),s=u.zu(o.documents),c=Yp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),nw(t,r,l.Yu),f=new Dk(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Fk(e,t){return jk.apply(this,arguments)}function jk(){return jk=Ea(wa().mark((function e(t,n){var r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Of(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Bv(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Fg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ib(r.remoteStore,i.targetId),ew(r,i.targetId)})).catch(dh);case 9:e.next=14;break;case 11:return ew(r,i.targetId),e.next=14,Fg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Vk(e,t,n){return Bk.apply(this,arguments)}function Bk(){return Bk=Ea(wa().mark((function e(t,n,r){var i,a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Of(e),a=$f.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ip());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=$v(),s=ip();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Qr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Dp(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Pp(c.key,l,$d(l.value.mapValue),Sp.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new cd(Wf)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aw(i,a.changes);case 9:return e.next=11,Ub(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ck(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Bk.apply(this,arguments)}function zk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),e.prev=1,e.next=4,Pg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Af(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Af(n.ec):e.removedDocuments.size>0&&(Af(n.ec),n.ec=!1))})),e.next=8,aw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Uk.apply(this,arguments)}function qk(e,t,n){var r=Of(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Of(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Qr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wk(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Kk(e,t,n){return Gk.apply(this,arguments)}function Gk(){return Gk=Ea(wa().mark((function e(t,n,r){var i,a,o,u,s,c;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Of(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new cd(th.comparator)).insert(o,Yd.newNoDocument(o,Yf.min())),s=ip().add(o),c=new $p(Yf.min(),new Map,new hd(Wf),u,s),e.next=9,zk(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),iw(i),e.next=16;break;case 14:return e.next=16,Fg(i.localStore,n,!1).then((function(){return ew(i,n,r)})).catch(dh);case 16:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Wk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=Ea(wa().mark((function e(t,n){var r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),i=n.batch.batchId,e.prev=1,e.next=4,Ag(r.localStore,n);case 4:return a=e.sent,Zk(r,i,null),Jk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Hk.apply(this,arguments)}function Qk(e,t,n){return $k.apply(this,arguments)}function $k(){return $k=Ea(wa().mark((function e(t,n,r){var i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Of(t),e.prev=1,e.next=4,function(e,t){var n=Of(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Af(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Zk(i,n,r),Jk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$k.apply(this,arguments)}function Yk(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=Ea(wa().mark((function e(t,n){var r,i,a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ab((r=Of(t)).remoteStore)||If("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Of(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ck(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Xk.apply(this,arguments)}function Jk(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Zk(e,t,n){var r=Of(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function ew(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Qr(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||tw(e,t)}))}function tw(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Ib(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),iw(e))}function nw(e,t,n){var r,i=Qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Tk?(e.cc.addReference(a.key,t),rw(e,a)):a instanceof Ck?(If("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||tw(e,a.key)):Df()}}catch(o){i.e(o)}finally{i.f()}}function rw(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(If("SyncEngine","New document in limbo: "+n),e.rc.add(r),iw(e))}function iw(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new th(Jf.fromString(t)),r=e.lc.next();e.uc.set(r,new Ak(n)),e.oc=e.oc.insert(n,r),_b(e.remoteStore,new Fm(Fv(Av(n.path)),r,2,Th.ct))}}function aw(e,t,n){return ow.apply(this,arguments)}function ow(){return ow=Ea(wa().mark((function e(t,n,r){var i,a,o,u;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Of(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=_g.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=Ea(wa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ph.forEach(n,(function(t){return ph.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ph.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),kh(e.t0)){e.next=10;break}throw e.t0;case 10:If("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Qr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function uw(e,t){return sw.apply(this,arguments)}function sw(){return sw=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Of(t)).currentUser.isEqual(n)){e.next=11;break}return If("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ng(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Rf(Pf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aw(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function cw(e,t){var n=Of(e),r=n.uc.get(t);if(r&&r.ec)return ip().add(r.key);var i=ip(),a=n.ic.get(t);if(!a)return i;var o,u=Qr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=Ea(wa().mark((function e(t,n){var r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),e.next=3,Vg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&nw(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return dw=Ea(wa().mark((function e(t,n){var r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),e.abrupt("return",zg(r.localStore,n).then((function(e){return aw(r,e)})));case 2:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function vw(e,t,n,r){return pw.apply(this,arguments)}function pw(){return pw=Ea(wa().mark((function e(t,n,r,i){var a,o;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Of(t),e.next=3,function(e,t){var n=Of(e),r=Of(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ph.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Ub(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Zk(a,n,i||null),Jk(a,n),function(e,t){Of(Of(e).mutationQueue).En(t)}(a.localStore,n)):Df();case 11:return e.next=13,aw(a,o);case 13:e.next=16;break;case 15:If("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function mw(e,t){return yw.apply(this,arguments)}function yw(){return yw=Ea(wa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Iw(r=Of(t)),Tw(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gw(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,ik(r.remoteStore,!0);case 9:o=Qr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,_b(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ew(r,t),Fg(r.localStore,t,!0)})),Ib(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gw(r,c);case 21:return function(e){var t=Of(e);t.uc.forEach((function(e,n){Ib(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new cd(th.comparator)}(r),r.fc=!1,e.next=25,ik(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function gw(e,t,n){return bw.apply(this,arguments)}function bw(){return bw=Ea(wa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,p,m,y;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Of(t),a=[],o=[],u=Qr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Mg(i.localStore,Fv(f[0]));case 11:l=e.sent,h=Qr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.sc.get(v),e.next=20,lw(i,p);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Bg(i.localStore,c);case 36:return y=e.sent,e.next=39,Mg(i.localStore,y);case 39:return l=e.sent,e.next=42,Lk(i,kw(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),bw.apply(this,arguments)}function kw(e){return Dv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ww(e){var t=Of(e);return Of(Of(t.localStore).persistence).bi()}function xw(e,t,n,r){return Ew.apply(this,arguments)}function Ew(){return Ew=Ea(wa().mark((function e(t,n,r,i){var a,o,u,s;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Of(t)).fc){e.next=3;break}return e.abrupt("return",void If("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,zg(a.localStore,Kv(o[0]));case 10:return u=e.sent,s=$p.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,yd.EMPTY_BYTE_STRING),e.next=14,aw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Fg(a.localStore,n,!0);case 17:return ew(a,n,i),e.abrupt("break",20);case 19:Df();case 20:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Sw(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=Ea(wa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Iw(t)).fc){e.next=45;break}a=Qr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return If("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Bg(i.localStore,u);case 12:return s=e.sent,e.next=15,Mg(i.localStore,s);case 15:return c=e.sent,e.next=18,Lk(i,kw(s),c.targetId,!1,c.resumeToken);case 18:_b(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Qr(r),e.prev=30,h=wa().mark((function e(){var t;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Fg(i.localStore,t,!1).then((function(){Ib(i.remoteStore,t),ew(i,t)})).catch(dh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),_w.apply(this,arguments)}function Iw(e){var t=Of(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kk.bind(null,t),t.nc.zo=bk.bind(null,t.eventManager),t.nc.wc=kk.bind(null,t.eventManager),t}function Tw(e){var t=Of(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qk.bind(null,t),t}function Cw(e,t,n){var r=Of(e);(function(){var e=Ea(wa().mark((function e(t,n,r){var i,a,o,u,s;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Of(e),r=fm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Ik(i)),a=new _k(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,aw(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Of(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Cf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Nw=function(){function e(){Pn(this,e),this.synchronizeTabs=!1}return Ln(e,[{key:"initialize",value:function(){var e=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=db(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Cg(this.persistence,new Ig,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new pg(yg.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new nb}},{key:"terminate",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Dw=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ln(n,[{key:"initialize",value:function(){var e=Ea(wa().mark((function e(t){var r=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr(wr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,Tw(this.mc.syncEngine);case 6:return e.next=8,Ub(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Cg(this.persistence,new Ig,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Wy(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ih(t,this.persistence);return new _h(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ay.withCacheSize(this.cacheSizeBytes):Ay.DEFAULT;return new wg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fb(),hb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new nb}}]),n}(Nw),Aw=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ln(n,[{key:"initialize",value:function(){var e=Ea(wa().mark((function e(t){var r,i=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr(wr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof tb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:vw.bind(null,r),Mr:xw.bind(null,r),Fr:Sw.bind(null,r),bi:ww.bind(null,r),Or:hw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mw(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=fb();if(!tb.D(t))throw new Rf(Pf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Dw),Ow=function(){function e(){Pn(this,e)}return Ln(e,[{key:"initialize",value:function(){var e=Ea(wa().mark((function e(t,n){var r=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uw.bind(null,this.syncEngine),e.next=12,ik(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vk}},{key:"createDatastore",value:function(e){var t,n=db(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lb(t));return function(e,t,n,r){return new gb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qk(o.syncEngine,e,0)},a=ib.D()?new ib:new rb,new kb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ok(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Of(t),If("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,Eb(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Pw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ea(wa().mark((function r(){var i;return wa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Rw=function(){function e(t){Pn(this,e),this.observer=t,this.muted=!1}return Ln(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Tf("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Lw=function(){function e(t,n){var r=this;Pn(this,e),this.Ic=t,this.serializer=n,this.metadata=new Lf,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return Ln(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=Ea(wa().mark((function e(){var t,n,r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Ek(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=Ea(wa().mark((function e(){var t,n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=Ea(wa().mark((function e(){var t,n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mw=function(){function e(t){Pn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ln(e,[{key:"lookup",value:function(){var e=Ea(wa().mark((function e(t){var n,r=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Rf(Pf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ea(wa().mark((function e(t,n){var r,i,a,o,u,s;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),i=gm(r.serializer)+"/documents",a={documents:n.map((function(e){return vm(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=xm(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Af(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ea(wa().mark((function e(){var t,n=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=th.fromPath(t);n.mutations.push(new Bp(r,n.precondition(r)))})),e.next=7,function(){var e=Ea(wa().mark((function e(t,n){var r,i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of(t),i=gm(r.serializer)+"/documents",a={writes:n.map((function(e){return Em(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Df();t=Yf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rf(Pf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yf.min())?Sp.exists(!1):Sp.updateTime(t):Sp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yf.min()))throw new Rf(Pf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sp.updateTime(t)}return Sp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Fw=function(){function e(t,n,r,i,a){Pn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new vb(this.asyncQueue,"transaction_retry")}return Ln(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(Ea(wa().mark((function t(){var n,r;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Mw(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Gp(t)}return!1}}]),e}(),jw=function(){function e(t,n,r,i){var a=this;Pn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xf.UNAUTHENTICATED,this.clientId=Gf.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return If("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ln(e,[{key:"getConfiguration",value:function(){var e=Ea(wa().mark((function e(){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rf(Pf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Lf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ea(wa().mark((function n(){var r;return wa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ck(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Vw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),If("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ng(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function zw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=Ea(wa().mark((function e(t,n){var r,i;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Kw(t);case 3:return r=e.sent,If("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return nk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return nk(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function qw(e){return"FirebaseError"===e.name?e.code===Pf.FAILED_PRECONDITION||e.code===Pf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Kw(e){return Gw.apply(this,arguments)}function Gw(){return Gw=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return If("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Vw(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),qw(n=e.t0)){e.next=13;break}throw n;case 13:return Cf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Vw(t,new Nw);case 16:e.next=21;break;case 18:return If("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Vw(t,new Nw);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Gw.apply(this,arguments)}function Ww(e){return Hw.apply(this,arguments)}function Hw(){return Hw=Ea(wa().mark((function e(t){return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return If("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,zw(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return If("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,zw(t,new Ow);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Qw(e){return Kw(e).then((function(e){return e.persistence}))}function $w(e){return Kw(e).then((function(e){return e.localStore}))}function Yw(e){return Ww(e).then((function(e){return e.remoteStore}))}function Xw(e){return Ww(e).then((function(e){return e.syncEngine}))}function Jw(e){return Ww(e).then((function(e){return e.datastore}))}function Zw(e){return ex.apply(this,arguments)}function ex(){return ex=Ea(wa().mark((function e(t){var n,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ww(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Pk.bind(null,n.syncEngine),r.onUnlisten=Fk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function i(){return wa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rw({next:function(a){t.enqueueAndForget((function(){return yk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Rf(Pf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Rf(Pf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new xk(Av(n.path),a,{includeMetadataChanges:!0,xu:!0});return pk(e,o)},i.next=3,Zw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function i(){return wa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rw({next:function(n){t.enqueueAndForget((function(){return yk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Rf(Pf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xk(n,a,{includeMetadataChanges:!0,xu:!0});return pk(e,o)},i.next=3,Zw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var rx=new Map;function ix(e,t,n){if(!n)throw new Rf(Pf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ax(e,t,n,r){if(!0===t&&!0===r)throw new Rf(Pf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ox(e){if(!th.isDocumentKey(e))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ux(e){if(th.isDocumentKey(e))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Df()}function cx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rf(Pf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sx(e);throw new Rf(Pf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lx(e,t){if(t<=0)throw new Rf(Pf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fx=function(){function e(t){var n;if(Pn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Rf(Pf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rf(Pf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ax("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ln(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hx=function(){function e(t,n,r,i){Pn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fx({}),this._settingsFrozen=!1}return Ln(e,[{key:"app",get:function(){if(!this._app)throw new Rf(Pf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Rf(Pf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ff;switch(e.type){case"firstParty":return new zf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rf(Pf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rx.get(e);t&&(If("ComponentProvider","Removing Datastore"),rx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=cx(e,hx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=xf.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ta(JSON.stringify({alg:"none",type:"JWT"})),Ta(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Rf(Pf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xf(s)}e._authCredentials=new jf(new Mf(o,u))}}var vx=function(){function e(t,n,r){Pn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ln(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new mx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),px=function(){function e(t,n,r){Pn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ln(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),mx=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this,e,r,Av(i)))._path=i,a.type="collection",a}return Ln(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vx(this.firestore,null,new th(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(px);function yx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qa(e),ix("collection","path",t),e instanceof hx){var a=Jf.fromString.apply(Jf,[t].concat(r));return ux(a),new mx(e,null,a)}if(!(e instanceof vx||e instanceof mx))throw new Rf(Pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jf.fromString.apply(Jf,[t].concat(r)));return ux(o),new mx(e.firestore,null,o)}function gx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qa(e),1===arguments.length&&(t=Gf.A()),ix("doc","path",t),e instanceof hx){var a=Jf.fromString.apply(Jf,[t].concat(r));return ox(a),new vx(e,null,new th(a))}if(!(e instanceof vx||e instanceof mx))throw new Rf(Pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jf.fromString.apply(Jf,[t].concat(r)));return ox(o),new vx(e.firestore,e instanceof mx?e.converter:null,new th(o))}function bx(e,t){return e=Qa(e),t=Qa(t),(e instanceof vx||e instanceof mx)&&(t instanceof vx||t instanceof mx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kx(e,t){return e=Qa(e),t=Qa(t),e instanceof px&&t instanceof px&&e.firestore===t.firestore&&Bv(e._query,t._query)&&e.converter===t.converter}var wx=function(){function e(){var t=this;Pn(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new vb(this,"async_queue_retry"),this.qc=function(){var e=hb();e&&If("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=hb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return Ln(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=hb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Lf;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=Ea(wa().mark((function e(){var t=this;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),kh(e.t0)){e.next=12;break}throw e.t0;case 12:If("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=sk.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Df()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ea(wa().mark((function e(){var t;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=Qr(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Qr(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function xx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Qr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ex=function(){function e(){Pn(this,e),this._progressObserver={},this._taskCompletionResolver=new Lf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ln(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Sx=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a){var o;return Pn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new wx,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ln(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ix(this),this._firestoreClient.terminate()}}]),n}(hx);function _x(e){return e._firestoreClient||Ix(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ix(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new _d(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jw(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Tx(e,t,n){var r=new Lf;return e.asyncQueue.enqueue(Ea(wa().mark((function i(){var a;return wa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Vw(e,n);case 3:return i.next=5,zw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),qw(a=i.t0)){i.next=13;break}throw a;case 13:Cf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Cx(e){return function(e){return e.asyncQueue.enqueue(Ea(wa().mark((function t(){var n,r;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qw(e);case 2:return n=t.sent,t.next=5,Yw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Of(e);return t.du.delete(0),wb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_x(e=cx(e,Sx)))}function Nx(e){return function(e){return e.asyncQueue.enqueue(Ea(wa().mark((function t(){var n,r;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qw(e);case 2:return n=t.sent,t.next=5,Yw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Of(t)).du.add(0),e.next=4,Eb(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_x(e=cx(e,Sx)))}function Dx(e,t){var n=_x(e=cx(e,Sx)),r=new Ex;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Lw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Pw(e,t);if(e instanceof ArrayBuffer)return Pw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,db(t));e.asyncQueue.enqueueAndForget(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cw,t.next=3,Xw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Ax(e,t){return function(e,t){return e.asyncQueue.enqueue(Ea(wa().mark((function n(){return wa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Of(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,$w(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_x(e=cx(e,Sx)),t).then((function(t){return t?new px(e,null,t.query):null}))}function Ox(e){if(e._initialized||e._terminated)throw new Rf(Pf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Px=function(){function e(t){Pn(this,e),this._byteString=t}return Ln(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yd.fromBase64String(t))}catch(t){throw new Rf(Pf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yd.fromUint8Array(t))}}]),e}(),Rx=function(){function e(){Pn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eh(n)}return Ln(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Lx=Ln((function e(t){Pn(this,e),this._methodName=t})),Mx=function(){function e(t,n){if(Pn(this,e),!isFinite(t)||t<-90||t>90)throw new Rf(Pf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rf(Pf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ln(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Wf(this._lat,e._lat)||Wf(this._long,e._long)}}]),e}(),Fx=/^__.*__$/,jx=function(){function e(t,n,r){Pn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ln(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Op(e,this.data,t,this.fieldTransforms)}}]),e}(),Vx=function(){function e(t,n,r){Pn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ln(e,[{key:"toMutation",value:function(e,t){return new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Bx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Df()}}var zx=function(){function e(t,n,r,i,a,o){Pn(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ln(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return uE(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Bx(this.Yc)&&Fx.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),Ux=function(){function e(t,n,r){Pn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||db(t)}return Ln(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zx({Yc:e,methodName:t,oa:n,path:eh.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function qx(e){var t=e._freezeSettings(),n=db(e._databaseId);return new Ux(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);rE("Data must be an object, but it was:",o,r);var u,s,c=tE(r,o);if(a.merge)u=new pd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Qr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=iE(t,l.value,n);if(!o.contains(d))throw new Rf(Pf.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));sE(f,d)||f.push(d)}}catch(v){h.e(v)}finally{h.f()}u=new pd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new jx(new Qd(c),u,s)}var Gx=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Lx);function Wx(e,t,n){return new zx({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Hx=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"_toFieldTransform",value:function(e){return new xp(e.path,new vp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Lx),Qx=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e)).ca=r,i}return Ln(n,[{key:"_toFieldTransform",value:function(e){var t=Wx(this,e,!0),n=this.ca.map((function(e){return eE(e,t)})),r=new pp(n);return new xp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lx),$x=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e)).ca=r,i}return Ln(n,[{key:"_toFieldTransform",value:function(e){var t=Wx(this,e,!0),n=this.ca.map((function(e){return eE(e,t)})),r=new yp(n);return new xp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lx),Yx=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e)).aa=r,i}return Ln(n,[{key:"_toFieldTransform",value:function(e){var t=new bp(e.serializer,cp(e.serializer,this.aa));return new xp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lx);function Xx(e,t,n,r){var i=e.ua(1,t,n);rE("Data must be an object, but it was:",i,r);var a=[],o=Qd.empty();ud(r,(function(e,r){var u=oE(t,e,n);r=Qa(r);var s=i.na(u);if(r instanceof Gx)a.push(u);else{var c=eE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new pd(a);return new Vx(o,u,i.fieldTransforms)}function Jx(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[iE(t,r,n)],s=[i];if(a.length%2!=0)throw new Rf(Pf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(iE(t,a[c])),s.push(a[c+1]);for(var l=[],f=Qd.empty(),h=u.length-1;h>=0;--h)if(!sE(l,u[h])){var d=u[h],v=s[h];v=Qa(v);var p=o.na(d);if(v instanceof Gx)l.push(d);else{var m=eE(v,p);null!=m&&(l.push(d),f.set(d,m))}}var y=new pd(l);return new Vx(f,y,o.fieldTransforms)}function Zx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eE(n,e.ua(r?4:3,t))}function eE(e,t){if(nE(e=Qa(e)))return rE("Unsupported field value:",t,e),tE(e,t);if(e instanceof Lx)return function(e,t){if(!Bx(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Qr(e);try{for(a.s();!(n=a.n()).done;){var o=eE(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Qa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$f.fromDate(e);return{timestampValue:sm(t.serializer,n)}}if(e instanceof $f){var r=new $f(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sm(t.serializer,r)}}if(e instanceof Mx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Px)return{bytesValue:cm(t.serializer,e._byteString)};if(e instanceof vx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(sx(e)))}(e,t)}function tE(e,t){var n={};return sd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ud(e,(function(e,r){var i=eE(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $f||e instanceof Mx||e instanceof Px||e instanceof vx||e instanceof Lx)}function rE(e,t,n){if(!nE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sx(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function iE(e,t,n){if((t=Qa(t))instanceof Rx)return t._internalPath;if("string"==typeof t)return oE(e,t);throw uE("Field path arguments must be of type string or ",e,!1,void 0,n)}var aE=new RegExp("[~\\*/\\[\\]]");function oE(e,t,n){if(t.search(aE)>=0)throw uE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Wr(Rx,On(t.split(".")))._internalPath}catch(r){throw uE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Rf(Pf.INVALID_ARGUMENT,u+e+s)}function sE(e,t){return e.some((function(e){return e.isEqual(t)}))}var cE=function(){function e(t,n,r,i,a){Pn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ln(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(fE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),lE=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"data",value:function(){return xr(wr(n.prototype),"data",this).call(this)}}]),n}(cE);function fE(e,t){return"string"==typeof t?oE(e,t):t instanceof Rx?t._internalPath:t._delegate._internalPath}function hE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rf(Pf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dE=Ln((function e(){Pn(this,e)})),vE=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n)}(dE);function pE(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof dE&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof gE})).length,n=e.filter((function(e){return e instanceof mE})).length;if(t>1||t>0&&n>0)throw new Rf(Pf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Qr(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var mE=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Ln(n,[{key:"_apply",value:function(e){var t=this._parse(e);return AE(e._query,t),new px(e.firestore,e.converter,jv(e._query,t))}},{key:"_parse",value:function(e){var t=qx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){DE(o,a);var s,c=[],l=Qr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(NE(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=NE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||DE(o,a),u=Zx(n,"where",o,"in"===a||"not-in"===a);return rv.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vE);function yE(e,t,n){var r=t,i=fE("where",e);return mE._create(i,r,n)}var gE=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Ln(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:iv.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Qr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;AE(r,a),r=jv(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new px(e.firestore,e.converter,jv(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dE);var bE=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Ln(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ev(t,n);return function(e,t){if(null===Pv(e)){var n=Rv(e);null!==n&&OE(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new px(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Nv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vE);function kE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fE("orderBy",e);return bE._create(n,t)}var wE=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Ln(n,[{key:"_apply",value:function(e){return new px(e.firestore,e.converter,Vv(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vE);var xE=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ln(n,[{key:"_apply",value:function(e){var t=CE(e,this.type,this._docOrFields,this._inclusive);return new px(e.firestore,e.converter,function(e,t){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vE);function EE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xE._create("startAt",t,!0)}function SE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xE._create("startAfter",t,!1)}var _E=function(e){Er(n,e);var t=Ir(n);function n(e,r,i){var a;return Pn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ln(n,[{key:"_apply",value:function(e){var t=CE(e,this.type,this._docOrFields,this._inclusive);return new px(e.firestore,e.converter,function(e,t){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vE);function IE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _E._create("endBefore",t,!1)}function TE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _E._create("endAt",t,!0)}function CE(e,t,n,r){if(n[0]=Qa(n[0]),n[0]instanceof cE)return function(e,t,n,r,i){if(!r)throw new Rf(Pf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Qr(Mv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Md(t,r.key));else{var c=r.data.field(s.field);if(xd(c))throw new Rf(Pf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Xd(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=qx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Rf(Pf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Lv(e)&&-1!==c.indexOf("/"))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jf.fromString(c));if(!th.isDocumentKey(l))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new th(l);u.push(Md(t,f))}else{var h=Zx(n,r,c);u.push(h)}}return new Xd(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function NE(e,t,n){if("string"==typeof(n=Qa(n))){if(""===n)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(t)&&-1!==n.indexOf("/"))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jf.fromString(n));if(!th.isDocumentKey(r))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Md(e,new th(r))}if(n instanceof vx)return Md(e,n._key);throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sx(n),"."))}function DE(e,t){if(!Array.isArray(e)||0===e.length)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function AE(e,t){if(t.isInequality()){var n=Rv(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Pv(e);null!==i&&OE(e,r,i)}var a=function(e,t){var n,r=Qr(e);try{for(r.s();!(n=r.n()).done;){var i,a=Qr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function OE(e,t,n){if(!n.isEqual(t))throw new Rf(Pf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PE=function(){function e(){Pn(this,e)}return Ln(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Df()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ud(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Mx(kd(e.latitude),kd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ed(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bd(e);return new $f(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jf.fromString(e);Af(Mm(n));var r=new Id(n.get(1),n.get(3)),i=new th(n.popFirst(5));return r.isEqual(t)||Tf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function RE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LE=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).firestore=e,r}return Ln(n,[{key:"convertBytes",value:function(e){return new Px(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vx(this.firestore,null,t)}}]),n}(PE);var ME=function(){function e(t,n){Pn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ln(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FE=function(e){Er(n,e);var t=Ir(n);function n(e,r,i,a,o,u){var s;return Pn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ln(n,[{key:"exists",value:function(){return xr(wr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(fE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cE),jE=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xr(wr(n.prototype),"data",this).call(this,e)}}]),n}(FE),VE=function(){function e(t,n,r,i){Pn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ME(i.hasPendingWrites,i.fromCache),this.query=r}return Ln(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jE(n._firestore,n._userDataWriter,r.key,r,new ME(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rf(Pf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new jE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ME(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ME(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:BE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function BE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Df()}}function zE(e,t){return e instanceof FE&&t instanceof FE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof VE&&t instanceof VE&&e._firestore===t._firestore&&kx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function UE(e){e=cx(e,vx);var t=cx(e.firestore,Sx);return tx(_x(t),e._key).then((function(n){return ZE(t,e,n)}))}var qE=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).firestore=e,r}return Ln(n,[{key:"convertBytes",value:function(e){return new Px(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vx(this.firestore,null,t)}}]),n}(PE);function KE(e){e=cx(e,vx);var t=cx(e.firestore,Sx),n=_x(t),r=new qE(t);return function(e,t){var n=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function r(){return wa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ea(wa().mark((function e(t,n,r){var i,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Of(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Rf(Pf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ck(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$w(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FE(t,r,e._key,n,new ME(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GE(e){e=cx(e,px);var t=cx(e.firestore,Sx),n=_x(t),r=new qE(t);return hE(e._query),nx(n,e._query).then((function(n){return new VE(t,r,e,n)}))}function WE(e){e=cx(e,px);var t=cx(e.firestore,Sx),n=_x(t),r=new qE(t);return function(e,t){var n=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function r(){return wa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ea(wa().mark((function e(t,n,r){var i,a,o,u,s;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vg(t,n,!0);case 3:i=e.sent,a=new Nk(n,i.Wi),o=a.zu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ck(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$w(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new VE(t,r,e,n)}))}function HE(e,t,n){e=cx(e,vx);var r=cx(e.firestore,Sx),i=RE(e.converter,t,n);return JE(r,[Kx(qx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sp.none())])}function QE(e,t,n){e=cx(e,vx);for(var r=cx(e.firestore,Sx),i=qx(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return JE(r,[("string"==typeof(t=Qa(t))||t instanceof Rx?Jx(i,"updateDoc",e._key,t,n,o):Xx(i,"updateDoc",e._key,t)).toMutation(e._key,Sp.exists(!0))])}function $E(e,t){var n=cx(e.firestore,Sx),r=gx(e),i=RE(e.converter,t);return JE(n,[Kx(qx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sp.exists(!1))]).then((function(){return r}))}function YE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Qa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||xx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(xx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof vx)l=cx(e.firestore,Sx),f=Av(e._key.path),c={next:function(t){n[s]&&n[s](ZE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var v=cx(e,px);l=cx(v.firestore,Sx),f=v._query;var p=new qE(l);c={next:function(e){n[s]&&n[s](new VE(l,p,v,e))},error:n[s+1],complete:n[s+2]},hE(e._query)}return function(e,t,n,r){var i=new Rw(r),a=new xk(t,i,n);return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pk,t.next=3,Zw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yk,t.next=3,Zw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_x(l),f,h,c)}function XE(e,t){return function(e,t){var n=new Rw(t);return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Of(e).Au.add(t),t.next()},t.next=3,Zw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget(Ea(wa().mark((function t(){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Of(e).Au.delete(t)},t.next=3,Zw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_x(e=cx(e,Sx)),xx(t)?t:{next:t})}function JE(e,t){return function(e,t){var n=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function r(){return wa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Vk,r.next=3,Xw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_x(e),t)}function ZE(e,t,n){var r=n.docs.get(t._key),i=new qE(e);return new FE(e,i,t._key,r,new ME(n.hasPendingWrites,n.fromCache),t.converter)}var eS={maxAttempts:5},tS=function(){function e(t,n){Pn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qx(t)}return Ln(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nS(e,this._firestore),i=RE(r.converter,t,n),a=Kx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qa(t))||t instanceof Rx?Jx(this._dataReader,"WriteBatch.update",i._key,t,n,o):Xx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nS(e,this._firestore);return this._mutations=this._mutations.concat(new Vp(t._key,Sp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Rf(Pf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nS(e,t){if((e=Qa(e)).firestore!==t)throw new Rf(Pf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rS=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ln(n,[{key:"get",value:function(e){var t=this,r=nS(e,this._firestore),i=new qE(this._firestore);return xr(wr(n.prototype),"get",this).call(this,e).then((function(e){return new FE(t._firestore,i,r._key,e._document,new ME(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Pn(this,e),this._firestore=t,this._transaction=n,this._dataReader=qx(t)}return Ln(e,[{key:"get",value:function(e){var t=this,n=nS(e,this._firestore),r=new LE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Df();var i=e[0];if(i.isFoundDocument())return new cE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cE(t._firestore,r,n._key,null,n.converter);throw Df()}))}},{key:"set",value:function(e,t,n){var r=nS(e,this._firestore),i=RE(r.converter,t,n),a=Kx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qa(t))||t instanceof Rx?Jx(this._dataReader,"Transaction.update",i._key,t,n,o):Xx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function iS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qx("arrayUnion",t)}function aS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $x("arrayRemove",t)}function oS(e){return _x(e=cx(e,Sx)),new tS(e,(function(t){return JE(e,t)}))}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ef=e}(Ko),Fo(new $a("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Sx(new Vf(e.getProvider("auth-internal")),new qf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rf(Pf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Yo(wf,"3.10.1",e),Yo(wf,"3.10.1","esm2017")}();Yo("firebase","9.20.0","app");var uS=function(e,t){var n="string"==typeof e?e:t||"(default)",r=jo("object"==typeof e?e:Wo(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Oa("firestore");i&&dx.apply(void 0,[r].concat(On(i)))}return r}(Go({apiKey:"AIzaSyDMh8wu8I8nVHsyVzm89uWkWUbIz2wRQvc",authDomain:"backend-react-js-39610.firebaseapp.com",projectId:"backend-react-js-39610",storageBucket:"backend-react-js-39610.appspot.com",messagingSenderId:"289531707287",appId:"1:289531707287:web:bfb19cf934ad66c11e8ed2"}));var sS=function(){var e=v((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){GE(pE(yx(uS,"categories"),kE("label","asc"))).then((function(e){var t=e.docs.map((function(e){var t=e.data();return c({id:e.id},t)}));r(t)}))}),[]),(0,b.jsx)(Gr,{bg:"light",expand:"lg",sticky:"top",className:"navbar",children:(0,b.jsxs)(P,{children:[(0,b.jsx)(ya,{to:"/",children:(0,b.jsx)("img",{src:"https://res.cloudinary.com/dxfhquzse/image/upload/v1679883912/OIG.hs0wxlNBWIwsjsP_zoom_dx7wuq.png",style:{width:50}})}),(0,b.jsx)(ya,{style:{textDecoration:"none",color:"black",fontSize:"x-large",padding:5},to:"/",children:"Andes Drink Co"}),(0,b.jsx)(Gr.Toggle,{"aria-controls":"navbarScroll"}),(0,b.jsxs)(Gr.Collapse,{id:"navbarScroll",children:[(0,b.jsx)(St,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:n.map((function(e){return(0,b.jsx)(ga,{to:"/category/".concat(e.slug),className:"navbarLink",children:e.label},e.id)}))}),(0,b.jsxs)(Oe,{className:"d-flex",children:[(0,b.jsx)(Oe.Control,{type:"search",placeholder:"Buscar",className:"me-2"}),(0,b.jsx)(D,{variant:"outline-success",children:"Buscar"})]})]})]})})};var cS=n.p+"static/media/cart.5e3e481d00d4a4f227129dc04409be3f.svg",lS=(0,t.createContext)("valor inicial"),fS=function(e){var n=e.children,r=v((0,t.useState)([]),2),i=r[0],a=r[1],o=function(e){return i.some((function(t){return t.id===e}))},u=function(){var e=0;return i.forEach((function(t){e+=t.quantity})),e}(),s=function(){var e=0;return i.forEach((function(t){e+=t.quantity*t.price})),e}();return(0,b.jsx)(lS.Provider,{value:{setCart:a,cleanCart:function(){a([])},cart:i,addItem:function(e){o(e.id)?a((function(t){return t.map((function(t){return t.id===e.id?c(c({},t),{},{quantity:t.quantity+e.quantity}):t}))})):a((function(t){return[].concat(On(t),[e])}))},totalQuantity:u,removeItem:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)},isInCart:o,totalAmount:s,incrementQuantity:function(e,t){var n=i.map((function(n){return n.id===e?c(c({},n),{},{quantity:n.quantity<t?n.quantity+1:n.quantity}):n}));a(n)},decrementQuantity:function(e){var t=i.map((function(t){return t.id===e?c(c({},t),{},{quantity:t.quantity>1?t.quantity-1:t.quantity}):t}));a(t)}},children:n})},hS=function(){return(0,t.useContext)(lS)},dS=function(){var e=hS(),t=e.totalQuantity,n=e.totalAmount;return(0,b.jsxs)("div",{className:"ChartWidget",children:[(0,b.jsx)(ya,{to:"/cart",style:{margin:0,color:"white",textDecoration:"none"},children:"Ir al carrito"}),(0,b.jsx)(ya,{to:"/cart",children:(0,b.jsx)("img",{src:cS,alt:"icono de carro de compras"})}),(0,b.jsxs)("p",{style:{margin:0},children:[" ",0===t?"":t>1?"".concat(t," Articulos $").concat(n.toLocaleString()):"".concat(t.toLocaleString()," articulo $").concat(n.toLocaleString())," "]})]})};var vS=n.p+"static/media/facebook.5913f3ab84c8a77e3c23d9c21eedccc7.svg";var pS=n.p+"static/media/whatsapp.e77a3aecd6f191e0dfcffddc92c9572b.svg";var mS=n.p+"static/media/instagram.bfbeb84750c2f7873eaa55992acd1ec2.svg",yS=function(){return(0,b.jsxs)("div",{className:"SuperiorNavbar",children:[(0,b.jsx)("div",{style:{alignItems:"center",marginTop:10,marginBottom:0},children:(0,b.jsx)("p",{children:"Distribuidora Andes Drink Co"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{className:"SocialSuperiorNavbar",src:vS,alt:"facebook"}),(0,b.jsx)("img",{className:"SocialSuperiorNavbar",src:pS,alt:"whatsapp"}),(0,b.jsx)("img",{className:"SocialSuperiorNavbar",src:mS,alt:"instagram"})]}),(0,b.jsx)(dS,{})]})};function gS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=gS(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var bS=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=gS(e))&&(r&&(r+=" "),r+=t);return r},kS=["theme","type"],wS=["delay","staleId"],xS=function(e){return"number"==typeof e&&!isNaN(e)},ES=function(e){return"string"==typeof e},SS=function(e){return"function"==typeof e},_S=function(e){return ES(e)||SS(e)?e:null},IS=function(e){return(0,t.isValidElement)(e)||ES(e)||SS(e)||xS(e)};function TS(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,u=void 0===o||o,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,o=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?"".concat(n,"--").concat(o):n,v=a?"".concat(r,"--").concat(o):r,p=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===p.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,On(n)))};(e=t.classList).add.apply(e,On(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(s?t():(p.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,i)}}function CS(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var NS={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,On([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},DS=function(e){var n=e.theme,r=e.type,i=m(e,kS);return t.createElement("svg",c({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},AS={info:function(e){return t.createElement(DS,c({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(DS,c({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(DS,c({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(DS,c({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function OS(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=v(n,2)[1],i=v((0,t.useState)([]),2),a=i[0],o=i[1],u=(0,t.useRef)(null),s=(0,t.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},f=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return s.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function d(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function p(){var e=f.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function y(e,n){var i=n.delay,a=n.staleId,o=m(n,wS);if(IS(e)&&!function(e){return!u.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||s.has(e.toastId)&&null==e.updateId}(o)){var l=o.toastId,h=o.updateId,y=o.data,b=f.props,k=function(){return d(l)},w=null==h;w&&f.count++;var x,E,S=c(c(c({},b),{},{style:b.toastStyle,key:f.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=v(e,2);t[0];return null!=t[1]})))),{},{toastId:l,updateId:h,data:y,closeToast:k,isIn:!1,className:_S(o.className||b.toastClassName),bodyClassName:_S(o.bodyClassName||b.bodyClassName),progressClassName:_S(o.progressClassName||b.progressClassName),autoClose:!o.isLoading&&(x=o.autoClose,E=b.autoClose,!1===x||xS(x)&&x>0?x:E),deleteToast:function(){var e=CS(s.get(l),"removed");s.delete(l),NS.emit(4,e);var t=f.queue.length;if(f.count=null==l?f.count-f.displayedToast:f.count-1,f.count<0&&(f.count=0),t>0){var n=null==l?f.props.limit:1;if(1===t||1===n)f.displayedToast++,p();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)p()}}else r()}});S.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,u={theme:n,type:r};return!1===a||(SS(a)?o=a(u):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,u):ES(a)||xS(a)?o=a:i?o=AS.spinner():function(e){return e in AS}(r)&&(o=AS[r](u))),o}(S),SS(o.onOpen)&&(S.onOpen=o.onOpen),SS(o.onClose)&&(S.onClose=o.onClose),S.closeButton=b.closeButton,!1===o.closeButton||IS(o.closeButton)?S.closeButton=o.closeButton:!0===o.closeButton&&(S.closeButton=!IS(b.closeButton)||b.closeButton);var _=e;(0,t.isValidElement)(e)&&!ES(e.type)?_=(0,t.cloneElement)(e,{closeToast:k,toastProps:S,data:y}):SS(e)&&(_=e({closeToast:k,toastProps:S,data:y})),b.limit&&b.limit>0&&f.count>b.limit&&w?f.queue.push({toastContent:_,toastProps:S,staleId:a}):xS(i)?setTimeout((function(){g(_,S,a)}),i):g(_,S,a)}}function g(e,t,n){var r=t.toastId;n&&s.delete(n);var i={content:e,props:t};s.set(r,i),o((function(e){return[].concat(On(e),[r]).filter((function(e){return e!==n}))})),NS.emit(4,CS(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return f.containerId=e.containerId,NS.cancelEmit(3).on(0,y).on(1,(function(e){return u.current&&d(e)})).on(5,h).emit(2,f),function(){s.clear(),NS.emit(3,f)}}),[]),(0,t.useEffect)((function(){f.props=e,f.isToastActive=l,f.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:u,isToastActive:l}}function PS(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function RS(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function LS(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function MS(e){var n=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,l=e.className,f=e.style,h=e.controlledProgress,d=e.progress,v=e.rtl,p=e.isIn,m=e.theme,y=s||h&&0===d,g=c(c({},f),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:y?0:1});h&&(g.transform="scaleX(".concat(d,")"));var b=bS("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":v}),k=SS(l)?l({rtl:v,type:o,defaultClassName:b}):bS(b,l);return t.createElement("div",u({role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:k,style:g},h&&d>=1?"onTransitionEnd":"onAnimationEnd",h&&d<1?null:function(){p&&i()}))}var FS=function(e){var n=function(e){var n=v((0,t.useState)(!1),2),r=n[0],i=n[1],a=v((0,t.useState)(!1),2),o=a[0],u=a[1],s=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),f=e.autoClose,h=e.pauseOnHover,d=e.closeToast,p=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x);var n=s.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=PS(t.nativeEvent),c.y=RS(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(c.boundingRect){var n=c.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=o&&c.y>=r&&c.y<=i?k():b()}}function b(){i(!0)}function k(){i(!1)}function w(t){var n=s.current;c.canDrag&&n&&(c.didMove=!0,r&&k(),c.x=PS(t),c.y=RS(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function x(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x);var t=s.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){l.current=e})),(0,t.useEffect)((function(){return s.current&&s.current.addEventListener("d",b,{once:!0}),SS(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;SS(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||k(),window.addEventListener("focus",b),window.addEventListener("blur",k)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return f&&h&&(E.onMouseEnter=k,E.onMouseLeave=b),m&&(E.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:b,pauseToast:k,isRunning:r,preventExitTransition:o,toastRef:s,eventHandlers:E}}(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,u=e.closeButton,s=e.children,l=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,m=e.transition,y=e.position,g=e.className,b=e.style,k=e.bodyClassName,w=e.bodyStyle,x=e.progressClassName,E=e.progressStyle,S=e.updateId,_=e.role,I=e.progress,T=e.rtl,C=e.toastId,N=e.deleteToast,D=e.isIn,A=e.isLoading,O=e.iconOut,P=e.closeOnClick,R=e.theme,L=bS("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":P}),M=SS(g)?g({rtl:T,position:y,type:h,defaultClassName:L}):bS(L,g),F=!!I||!l,j={closeToast:p,type:h,theme:R},V=null;return!1===u||(V=SS(u)?u(j):(0,t.isValidElement)(u)?(0,t.cloneElement)(u,j):LS(j)),t.createElement(m,{isIn:D,done:N,position:y,preventExitTransition:i,nodeRef:a},t.createElement("div",c(c({id:C,onClick:f,className:M},o),{},{style:b,ref:a}),t.createElement("div",c(c({},D&&{role:_}),{},{className:SS(k)?k({type:h}):bS("Toastify__toast-body",k),style:w}),null!=O&&t.createElement("div",{className:bS("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},O),t.createElement("div",null,s)),V,t.createElement(MS,c(c({},S&&!F?{key:"pb-".concat(S)}:{}),{},{rtl:T,theme:R,delay:l,isRunning:r,isIn:D,closeToast:p,hide:d,type:h,style:E,className:x,controlledProgress:F,progress:I||0}))))},jS=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},VS=TS(jS("bounce",!0)),BS=(TS(jS("slide",!0)),TS(jS("zoom")),TS(jS("flip")),(0,t.forwardRef)((function(e,n){var r=OS(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,u=e.className,s=e.style,l=e.rtl,f=e.containerId;function h(e){var t=bS("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return SS(u)?u({position:e,rtl:l,defaultClassName:t}):bS(t,_S(u))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:f},i((function(e,n){var r=n.length?c({},s):c(c({},s),{},{pointerEvents:"none"});return t.createElement("div",{className:h(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(FS,c(c({},a),{},{isIn:o(a.toastId),style:c(c({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));BS.displayName="ToastContainer",BS.defaultProps={position:"top-right",transition:VS,autoClose:5e3,closeButton:LS,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var zS,US=new Map,qS=[],KS=1;function GS(){return""+KS++}function WS(e){return e&&(ES(e.toastId)||xS(e.toastId))?e.toastId:GS()}function HS(e,t){return US.size>0?NS.emit(0,e,t):qS.push({content:e,options:t}),t.toastId}function QS(e,t){return c(c({},t),{},{type:t&&t.type||e,toastId:WS(t)})}function $S(e){return function(t,n){return HS(t,QS(e,n))}}function YS(e,t){return HS(e,QS("default",t))}YS.loading=function(e,t){return HS(e,QS("default",c({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},YS.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=ES(i)?YS.loading(i,n):YS.loading(i.render,c(c({},n),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){if(null!=t){var a=c(c(c({type:e},u),n),{},{data:i}),o=ES(t)?{render:t}:t;return r?YS.update(r,c(c({},a),o)):YS(o.render,c(c({},a),o)),i}YS.dismiss(r)},l=SS(e)?e():e;return l.then((function(e){return s("success",o,e)})).catch((function(e){return s("error",a,e)})),l},YS.success=$S("success"),YS.info=$S("info"),YS.error=$S("error"),YS.warning=$S("warning"),YS.warn=YS.warning,YS.dark=function(e,t){return HS(e,QS("default",c({theme:"dark"},t)))},YS.dismiss=function(e){US.size>0?NS.emit(1,e):qS=qS.filter((function(t){return null!=e&&t.options.toastId!==e}))},YS.clearWaitingQueue=function(e){return void 0===e&&(e={}),NS.emit(5,e)},YS.isActive=function(e){var t=!1;return US.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},YS.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=US.get(n||zS);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=c(c(c({delay:100},r),t),{},{toastId:t.toastId||e,updateId:GS()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,HS(o,a)}}),0)},YS.done=function(e){YS.update(e,{progress:1})},YS.onChange=function(e){return NS.on(4,e),function(){NS.off(4,e)}},YS.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},YS.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},NS.on(2,(function(e){zS=e.containerId||e,US.set(zS,e),qS.forEach((function(e){NS.emit(0,e.content,e.options)})),qS=[]})).on(3,(function(e){US.delete(e.containerId||e),0===US.size&&NS.off(0).off(1).off(5)}));var XS=function(e){var t=e.id,n=e.name,r=e.img,i=e.price,a=e.size,o=e.stock,u=hS(),s=u.addItem;u.isInCart;return(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("div",{className:"card-img-container",children:(0,b.jsx)("img",{className:"card-img",src:r,alt:n})}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("h3",{className:"card-tittle",children:[n," ",a," "]}),(0,b.jsxs)("p",{className:"card-price",children:["Precio: $",i.toLocaleString()," "]}),(0,b.jsxs)("div",{className:"card-buttons",children:[0==o?(0,b.jsx)("p",{className:"out-stock-alert",children:"SIN STOCK"}):(0,b.jsxs)("button",{className:"card-button-add",onClick:function(e){s({id:t,name:n,price:i,quantity:1,img:r,size:a,stock:o}),YS.success("Se agreg\xf3 ".concat(n.toUpperCase()," "),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},children:[(0,b.jsx)("i",{className:"bx bx-plus"}),"A\xf1adir"]}),(0,b.jsx)(ya,{to:"/item/".concat(t),className:"card-button-details",children:"Ver detalle"})]})]}),(0,b.jsx)(BS,{})]})},JS=function(e){var t=e.products;return(0,b.jsx)("div",{className:"card-container",children:t.map((function(e){return(0,b.jsx)(XS,c({},e),e.id)}))})},ZS=["bsPrefix","variant","animation","size","as","className"],e_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=void 0===i?"border":i,o=e.size,u=e.as,s=void 0===u?"div":u,l=e.className,f=m(e,ZS);n=T(n,"spinner");var h="".concat(n,"-").concat(a);return(0,b.jsx)(s,c(c({ref:t},f),{},{className:g()(l,h,o&&"".concat(h,"-").concat(o),r&&"text-".concat(r))}))}));e_.displayName="Spinner";var t_=e_;var n_,r_=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(D,{variant:"dark",disabled:!0,children:[(0,b.jsx)(t_,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Cargando..."]})})},i_=function(e){var n=e.greeting,r=v((0,t.useState)([]),2),i=r[0],a=r[1],o=v((0,t.useState)(!0),2),u=o[0],s=o[1],l=Qi().category;return(0,t.useEffect)((function(){s(!0),GE(l?pE(yx(uS,"products"),yE("category","==",l)):yx(uS,"products")).then((function(e){var t=e.docs.map((function(e){var t=e.data();return c({id:e.id},t)}));a(t)})).catch((function(e){console.log(e)})).finally((function(){s(!1)}))}),[l]),u?(0,b.jsx)("div",{style:{margin:150},children:(0,b.jsx)(r_,{})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{children:[(0,b.jsx)("img",{src:"https://res.cloudinary.com/dxfhquzse/image/upload/v1679883912/OIG.hs0wxlNBWIwsjsP_zoom_dx7wuq.png",style:{width:60}}),n]}),(0,b.jsx)(JS,{products:i})]})},a_=function(e){var n=e.stock,r=e.initial,i=e.onAdd,a=v((0,t.useState)(r),2),o=a[0],u=a[1];return(0,b.jsxs)("div",{className:"item-counter-box",children:[(0,b.jsxs)("div",{className:"controls",children:[(0,b.jsx)("button",{className:"buttons selector",onClick:function(){o>1&&u((function(e){return e-1}))},children:"-"}),(0,b.jsx)("p",{className:"numb",children:o}),(0,b.jsx)("button",{className:"buttons selector",onClick:function(){o<n?u((function(e){return e+1})):YS.error("Solo hay ".concat(n," unidades en stock"),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},children:"+"})]}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{className:"buttons",onClick:function(){return i(o)},children:"Agregar al carrito"})}),(0,b.jsx)(BS,{})]})},o_=function(){return(0,b.jsx)("div",{style:{padding:30},children:(0,b.jsx)("h5",{children:"Lo siento, estamos sin stock en este momento."})})},u_=function(e){var t=e.id,n=e.name,r=e.img,i=e.category,a=e.description,o=e.price,u=e.stock,s=e.productBrandName,c=e.productCategory,l=e.size,f=hS(),h=f.addItem,d=f.isInCart;return(0,b.jsxs)("div",{className:"card-detail-container",children:[(0,b.jsx)("div",{className:"card-detail-container-img",children:(0,b.jsx)("img",{className:"card-detail-img",src:r,alt:n})}),(0,b.jsxs)("div",{className:"card-detail-body",children:[(0,b.jsxs)("p",{className:"card-detail-breadcrumbs",children:["Inicio > ",i," > ",c," > ",s," >"," ",n," "]}),(0,b.jsx)("h3",{className:"card-detail-title",children:n}),(0,b.jsxs)("p",{className:"card-detail-price",children:["$",o.toLocaleString()]}),(0,b.jsxs)("div",{className:"card-detail-msj",children:[" ",(0,b.jsxs)("i",{className:"bx bxs-truck",children:[" ","Env\xedo sin cargo en compras superiores a $10.000"]})]}),(0,b.jsx)("div",{className:"card-detail-msj",children:(0,b.jsx)("i",{className:"bx bx-store-alt",children:" Retiro disponible en tienda"})}),0==u?(0,b.jsx)(o_,{}):d(t)?(0,b.jsx)(ya,{to:"/cart",children:"Terminar compra"}):(0,b.jsx)(a_,{onAdd:function(e){h({id:t,name:n,price:o,quantity:e,img:r,size:l,stock:u}),YS.success(e>1?"Se agregaron ".concat(e," ").concat(n.toUpperCase()," "):"Se agreg\xf3 ".concat(e," ").concat(n.toUpperCase()," "),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},stock:u,initial:1}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"card-detail-description-title",children:"Descripci\xf3n del producto"}),(0,b.jsxs)("p",{className:"card-detail-description",children:[" ",a," "]})]})]}),(0,b.jsx)(BS,{})]},t)},s_=function(){var e=v((0,t.useState)([]),2),n=e[0],r=e[1],i=v((0,t.useState)(!0),2),a=i[0],o=i[1],u=Qi().itemId;return(0,t.useEffect)((function(){o(!0),UE(gx(uS,"products",u)).then((function(e){var t=e.data(),n=c({id:e.id},t);r(n)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[u]),a?(0,b.jsx)("div",{style:{margin:150},children:(0,b.jsx)(r_,{})}):(0,b.jsxs)("div",{className:"item-detail-container",children:[(0,b.jsx)("h2",{children:" Detalle del producto "}),(0,b.jsx)(u_,c({},n))]})},c_=function(e){var t=e.id,n=e.name,r=e.price,i=e.quantity,a=e.img,o=e.size,u=e.stock,s=hS(),c=s.removeItem,l=s.incrementQuantity,f=s.decrementQuantity;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"cart-box",children:[(0,b.jsxs)("div",{className:"cart-box-img",children:[(0,b.jsx)("img",{src:a,style:{height:80}}),(0,b.jsxs)("p",{className:"cart-box-title",children:[n," ",o," "]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"cart-box-title",children:"Cantidad"}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,b.jsx)("button",{className:"cartButtonsAddLess",onClick:function(){return f(t)},children:"-"}),(0,b.jsx)("p",{children:i}),(0,b.jsx)("button",{className:"cartButtonsAddLess",onClick:function(){return l(t,u)},children:"+"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"cart-box-title",children:"precio"}),(0,b.jsxs)("p",{children:["$",r.toLocaleString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"cart-box-title",children:"SubTotal"}),(0,b.jsxs)("p",{children:["$",(r*i).toLocaleString()," "]})]}),(0,b.jsx)("button",{onClick:function(e){e.stopPropagation(),c(t),YS.error("Se elimin\xf3 ".concat(n.toUpperCase()," "),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},className:"cart-button-delete",children:(0,b.jsx)("i",{className:"bx bx-trash",children:" Eliminar"})})]}),(0,b.jsx)(BS,{})]})},l_=function(){var e=v((0,t.useState)(!0),2),n=e[0],r=e[1],i=hS(),a=i.cart,o=i.totalAmount,u=i.setCart;i.stock;if((0,t.useEffect)((function(){r(!0),r(!1)}),[a]),n)return(0,b.jsx)("div",{style:{margin:150},children:(0,b.jsx)(r_,{})});return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Cart"}),(0,b.jsxs)("div",{className:"cart-container-box",children:[(0,b.jsxs)("div",{className:"cart-container-box-upper",children:[(0,b.jsx)(ya,{to:"/",children:(0,b.jsx)("i",{className:"bx bx-arrow-back cart-container-continue-button",children:" Volver a la tienda "})}),(0,b.jsx)("span",{className:"cart-container-total-items",children:0===a.length?"A\xfan no ha seleccionado ning\xfan producto":1===a.length?"Usted posee ".concat(a.length," \xedtem en su carrito"):"Usted posee ".concat(a.length," items en su carrito")})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("div",{className:"cart-container-items",children:a.map((function(e){return(0,b.jsx)(c_,c({},e),e.id)}))}),(0,b.jsxs)("div",{className:"cart-container-box-under",children:[(0,b.jsx)("button",{onClick:function(){YS.error("Se vaci\xf3 el carrito",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});u([])},className:"cart-container-clean-button",children:"Vaciar carro"}),(0,b.jsxs)("div",{className:"total-text",children:["Total: $",o.toLocaleString()]}),(0,b.jsxs)(ya,{to:"/Checkout",className:"cart-container-checkout-button",children:[" Terminar mi compra",(0,b.jsx)("i",{className:"bx bxs-chevrons-right"})]})]})]}),(0,b.jsx)(BS,{})]})},f_=function(e){var n=e.onConfirm,r=v((0,t.useState)(),2),i=r[0],a=r[1],o=v((0,t.useState)(),2),u=o[0],s=o[1],c=v((0,t.useState)(),2),l=c[0],f=c[1];return(0,b.jsxs)("form",{onSubmit:function(){var e={name:i,phone:u,email:l,timestamp:(new Date).toISOString()};n(e)},className:"contactFormContainer",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:"Nombre"}),(0,b.jsx)("input",{className:"",type:"text",value:i,onChange:function(e){return a(e.target.value)},placeholder:"Nombre",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:"Tel\xe9fono"}),(0,b.jsx)("input",{type:"number",value:u,onChange:function(e){return s(e.target.value)},placeholder:"Nro de Telefono",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:"Email"}),(0,b.jsx)("input",{type:"email",value:l,onChange:function(e){return f(e.target.value)},placeholder:"E-mail",required:!0})]}),(0,b.jsx)("button",{className:"contactFormSubmitButton",type:"submit",children:"Generar orden"})]})},h_=function(){function e(t,n){var r=this;Pn(this,e),this._delegate=t,this.firebase=n,Lo(t,new $a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ln(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Qo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Lo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Mo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),d_=(u(n_={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),u(n_,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),n_),v_=new Ba("app-compat","Firebase",d_);var p_=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Go(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ua(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Yo,setLogLevel:Jo,onLog:Xo,apps:null,SDK_VERSION:Ko,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Fo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw v_.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Na(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ua(n,e=e||Ao))throw v_.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(h_);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Na(n,e)},createSubscribe:Ga,ErrorFactory:Ba,deepExtend:Na}),n}(),m_=new oo("@firebase/app-compat"),y_="@firebase/app-compat",g_="0.2.8";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){m_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b_=self.firebase.SDK_VERSION;b_&&b_.indexOf("LITE")>=0&&m_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var k_=p_;!function(e){Yo(y_,g_,e)}();k_.registerVersion("firebase","9.20.0","app-compat");var w_="@firebase/firestore-compat",x_="0.3.7";function E_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function S_(){if("undefined"===typeof Uint8Array)throw new Rf("unimplemented","Uint8Arrays are not available in this environment.")}function __(){if("undefined"==typeof atob)throw new Rf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var I_=function(){function e(t){Pn(this,e),this._delegate=t}return Ln(e,[{key:"toBase64",value:function(){return __(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return S_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return __(),new e(Px.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return S_(),new e(Px.fromUint8Array(t))}}]),e}();function T_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Qr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var C_=function(){function e(){Pn(this,e)}return Ln(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Ox(e=cx(e,Sx));var n=_x(e);if(n._uninitializedComponentsProvider)throw new Rf(Pf.FAILED_PRECONDITION,"SDK cache is already specified.");Cf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Ow;return Tx(n,i,new Dw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Ox(e=cx(e,Sx));var t=_x(e);if(t._uninitializedComponentsProvider)throw new Rf(Pf.FAILED_PRECONDITION,"SDK cache is already specified.");Cf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Ow;return Tx(t,r,new Aw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Rf(Pf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Lf;return e._queue.enqueueAndForgetEvenWhileRestricted(Ea(wa().mark((function n(){return wa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ea(wa().mark((function e(t){var n;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yh.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,yh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Sg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),N_=function(){function e(t,n,r){var i=this;Pn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Id||(this._appCompat=t)}return Ln(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Cx(this._delegate)}},{key:"disableNetwork",value:function(){return Nx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ax("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function n(){return wa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Yk,n.next=3,Xw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_x(e=cx(e,Sx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return XE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Rf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new q_(this,yx(this._delegate,e))}catch(J_){throw L_(J_,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new R_(this,gx(this._delegate,e))}catch(J_){throw L_(J_,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new B_(this,function(e,t){if(e=cx(e,hx),ix("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rf(Pf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new px(e,null,function(e){return new Nv(Jf.emptyPath(),e)}(t))}(this._delegate,e))}catch(J_){throw L_(J_,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=cx(e,Sx);var r=Object.assign(Object.assign({},eS),n);return function(e){if(e.maxAttempts<1)throw new Rf(Pf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Lf;return e.asyncQueue.enqueueAndForget(Ea(wa().mark((function i(){var a;return wa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Jw(e);case 2:a=i.sent,new Fw(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(_x(e),(function(n){return t(new rS(e,n))}),r)}(this._delegate,(function(n){return e(new A_(t,n))}))}},{key:"batch",value:function(){var e=this;return _x(this._delegate),new O_(new tS(this._delegate,(function(t){return JE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Dx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Ax(this._delegate,e).then((function(e){return e?new B_(t,e):null}))}}]),e}(),D_=function(e){Er(n,e);var t=Ir(n);function n(e){var r;return Pn(this,n),(r=t.call(this)).firestore=e,r}return Ln(n,[{key:"convertBytes",value:function(e){return new I_(new Px(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return R_.forKey(t,this.firestore,null)}}]),n}(PE);var A_=function(){function e(t,n){Pn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new D_(t)}return Ln(e,[{key:"get",value:function(e){var t=this,n=K_(e);return this._delegate.get(n).then((function(e){return new j_(t._firestore,new FE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=K_(e);return n?(E_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=K_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=K_(e);return this._delegate.delete(t),this}}]),e}(),O_=function(){function e(t){Pn(this,e),this._delegate=t}return Ln(e,[{key:"set",value:function(e,t,n){var r=K_(e);return n?(E_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=K_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=K_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),P_=function(){function e(t,n,r){Pn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ln(e,[{key:"fromFirestore",value:function(e,t){var n=new jE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new V_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new D_(t),n),i.set(n,a)),a}}]),e}();P_.INSTANCES=new WeakMap;var R_=function(){function e(t,n){Pn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new D_(t)}return Ln(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new q_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new q_(this.firestore,yx(this._delegate,e))}catch(J_){throw L_(J_,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Qa(e))instanceof vx&&bx(this._delegate,e)}},{key:"set",value:function(e,t){t=E_("DocumentReference.set",t);try{return t?HE(this._delegate,e,t):HE(this._delegate,e)}catch(J_){throw L_(J_,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QE(this._delegate,e):QE.apply(void 0,[this._delegate,e,t].concat(r))}catch(J_){throw L_(J_,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return JE(cx(e.firestore,Sx),[new Vp(e._key,Sp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=M_(n),a=F_(n,(function(t){return new j_(e.firestore,new FE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return YE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cx(e,vx);var t=cx(e.firestore,Sx);return tx(_x(t),e._key,{source:"server"}).then((function(n){return ZE(t,e,n)}))}(this._delegate):UE(this._delegate),t.then((function(e){return new j_(n.firestore,new FE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(P_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Rf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vx(n._delegate,r,new th(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vx(n._delegate,r,t))}}]),e}();function L_(e,t,n){return e.message=e.message.replace(t,n),e}function M_(e){var t,n=Qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!T_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function F_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=T_(e[0])?e[0]:T_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var j_=function(){function e(t,n){Pn(this,e),this._firestore=t,this._delegate=n}return Ln(e,[{key:"ref",get:function(){return new R_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zE(this._delegate,e._delegate)}}]),e}(),V_=function(e){Er(n,e);var t=Ir(n);function n(){return Pn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Df()}(void 0!==t),t}}]),n}(j_),B_=function(){function e(t,n){Pn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new D_(t)}return Ln(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pE(this._delegate,yE(t,n,r)))}catch(J_){throw L_(J_,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pE(this._delegate,kE(t,n)))}catch(J_){throw L_(J_,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pE(this._delegate,function(e){return lx("limit",e),wE._create("limit",e,"F")}(t)))}catch(J_){throw L_(J_,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pE(this._delegate,function(e){return lx("limitToLast",e),wE._create("limitToLast",e,"L")}(t)))}catch(J_){throw L_(J_,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pE(this._delegate,EE.apply(void 0,arguments)))}catch(J_){throw L_(J_,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pE(this._delegate,SE.apply(void 0,arguments)))}catch(J_){throw L_(J_,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pE(this._delegate,IE.apply(void 0,arguments)))}catch(J_){throw L_(J_,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pE(this._delegate,TE.apply(void 0,arguments)))}catch(J_){throw L_(J_,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return kx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cx(e,px);var t=cx(e.firestore,Sx),n=_x(t),r=new qE(t);return nx(n,e._query,{source:"server"}).then((function(n){return new VE(t,r,e,n)}))}(this._delegate):GE(this._delegate),t.then((function(e){return new U_(n.firestore,new VE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=M_(n),a=F_(n,(function(t){return new U_(e.firestore,new VE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return YE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(P_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),z_=function(){function e(t,n){Pn(this,e),this._firestore=t,this._delegate=n}return Ln(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new V_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),U_=function(){function e(t,n){Pn(this,e),this._firestore=t,this._delegate=n}return Ln(e,[{key:"query",get:function(){return new B_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new V_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new z_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new V_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zE(this._delegate,e._delegate)}}]),e}(),q_=function(e){Er(n,e);var t=Ir(n);function n(e,r){var i;return Pn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ln(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new R_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new R_(this.firestore,void 0===e?gx(this._delegate):gx(this._delegate,e))}catch(J_){throw L_(J_,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return $E(this._delegate,e).then((function(e){return new R_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(B_);function K_(e){return cx(e,vx)}var G_,W_=function(){function e(){Pn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Wr(Rx,n)}return Ln(e,[{key:"isEqual",value:function(e){return(e=Qa(e))instanceof Rx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(eh.keyField().canonicalString())}}]),e}(),H_=function(){function e(t){Pn(this,e),this._delegate=t}return Ln(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Hx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Gx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=iS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=aS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Yx("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Q_={Firestore:N_,GeoPoint:Mx,Timestamp:$f,Blob:I_,Transaction:A_,WriteBatch:O_,DocumentReference:R_,DocumentSnapshot:j_,Query:B_,QueryDocumentSnapshot:V_,QuerySnapshot:U_,CollectionReference:q_,FieldPath:W_,FieldValue:H_,setLogLevel:function(e){!function(e){Sf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new $a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Q_)))})(G_=k_,(function(e,t){return new N_(e,t,new C_)})),G_.registerVersion(w_,x_);var $_=function(e){e.greeting;var n=hS(),r=n.cart,i=n.totalAmount,a=n.cleanCart,o=v((0,t.useState)(""),2),u=o[0],s=o[1],l=v((0,t.useState)(!1),2),f=l[0],h=l[1],d=Hi(),p=function(){var e=Ea(wa().mark((function e(t){var n,o,u,l,f,v,p,m,y;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),n={buyer:c(c({},t),{},{timestamp:k_.firestore.Timestamp.fromDate(new Date(t.timestamp))}),item:r,totalAmount:i},o=r.map((function(e){return e.id})),u=pE(yx(uS,"products"),yE(new Rx("__name__"),"in",o)),e.next=7,GE(u);case 7:if(l=e.sent,f=l.docs,v=oS(uS),p=[],f.forEach((function(e){var t=e.data(),n=t.stock,i=r.find((function(t){return t.id===e.id})),a=null===i||void 0===i?void 0:i.quantity;n>=a?v.update(e.ref,{stock:n-a}):p.push(c({id:e.id},t))})),0!==p.length){e.next=24;break}return v.commit(),m=yx(uS,"orders"),e.next=17,$E(m,n);case 17:y=e.sent,a(),s(y.id),console.log("Orden exitosa"),setTimeout((function(){d("/")}),5e3),e.next=25;break;case 24:console.log("No hay stock");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log("No se pudo generar la orden");case 30:return e.prev=30,h(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[0,27,30,33]])})));return function(t){return e.apply(this,arguments)}}();return f?(0,b.jsx)("div",{children:(0,b.jsx)("h2",{children:"Se esta generando su orden -.-"})}):u?(0,b.jsx)("div",{children:(0,b.jsxs)("h2",{children:["El ID de su compra es: ",u," "]})}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:" Checkout"}),(0,b.jsx)("h2",{children:" Ingres\xe1 tus datos"}),(0,b.jsx)(f_,{onConfirm:p})]})};var Y_=function(){return(0,b.jsx)("div",{className:"App",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,b.jsx)(va,{children:(0,b.jsxs)(fS,{children:[(0,b.jsx)(yS,{}),(0,b.jsx)(sS,{}),(0,b.jsxs)(ua,{children:[(0,b.jsx)(aa,{path:"/",element:(0,b.jsx)(i_,{greeting:"Andes Drink Co | E-Commerce"})}),(0,b.jsx)(aa,{path:"/category/:category",element:(0,b.jsx)(i_,{greeting:"Productos filtrados por categoria"})}),(0,b.jsx)(aa,{path:"/item/:itemId",element:(0,b.jsx)(s_,{})}),(0,b.jsx)(aa,{path:"/cart",element:(0,b.jsx)(l_,{greeting:"Cart"})}),(0,b.jsx)(aa,{path:"/Checkout",element:(0,b.jsx)($_,{greeting:"Checkout"})})]})]})})})},X_=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,b.jsx)(Y_,{})),X_()}()}();
//# sourceMappingURL=main.87ed378c.js.map